var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};
$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&($jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+e,e=
$jscomp.propertyToPolyfillSymbol[e],$jscomp.defineProperty(d,e,{configurable:!0,writable:!0,value:b})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(a){if(a)return a;var b=function(e,f){this.$jscomp$symbol$id_=e;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:f})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var c=0,d=function(e){if(this instanceof d)throw new TypeError("Symbol is not a constructor");return new b("jscomp_symbol_"+(e||"")+"_"+c++,e)};return d},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=$jscomp.global[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&$jscomp.defineProperty(d.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,b){a instanceof String&&(a+="");var c=0,d=!1,e={next:function(){if(!d&&c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}d=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6","es3");
$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(b.call(c,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(b,c){return $jscomp.findInternal(this,b,c).v}},"es6","es3");$jscomp.polyfill("Object.is",function(a){return a?a:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var f=d[c];if(f===b||Object.is(f,b))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(b,c){return-1!==$jscomp.checkStringArgs(this,b,"includes").indexOf(b,c||0)}},"es6","es3");
$jscomp.polyfill("Array.prototype.fill",function(a){return a?a:function(b,c,d){var e=this.length||0;0>c&&(c=Math.max(0,e+c));if(null==d||d>e)d=e;d=Number(d);0>d&&(d=Math.max(0,e+d));for(c=Number(c||0);c<d;c++)this[c]=b;return this}},"es6","es3");$jscomp.typedArrayFill=function(a){return a?a:Array.prototype.fill};$jscomp.polyfill("Int8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
$jscomp.polyfill("Uint8ClampedArray.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Float32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
$jscomp.polyfill("Float64Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");var Account=function(){};
Account.register=function(){var a=new FormData,b=document.getElementById("email-input").value;a.append("email",b);$.ajax({url:"https://yapms.org/auth/register.php",type:"POST",data:a,processData:!1,contentType:!1,xhrFields:{withCredentials:!0},crossDomain:!0,success:function(c){console.log("Register: "+c);c=c.split(" ");document.getElementById("register-info");closeAllPopups();"good"===c[0]?displayNotification("Account Registered","Please check your email, and click the verification link. (check your spam)"):
"inuse"===c[1]?displayNotification("Register Error","Account Already Registered"):"inactive"===c[1]?displayNotification("Register Error","Verification Email Already Sent (check your spam)"):"resent"===c[1]?displayNotification("Account Registered","Please check your email, and click the verification link. (check your spam)"):"invalid_email"===c[1]&&displayNotification("Register Error",b+" is not a valid email")},error:function(c,d,e){console.log(c);console.log(d);console.log(e);document.getElementById("register-info").innerHTML=
"Connection Error"}})};
Account.login=function(){var a=new FormData,b=document.getElementById("email-login").value,c=document.getElementById("password-login").value;a.append("email",b);a.append("password",c);$.ajax({url:"https://yapms.org/auth/login.php",type:"POST",data:a,processData:!1,contentType:!1,xhrFields:{withCredentials:!0},crossDomain:!0,success:function(d){console.log("Login: "+d);d=d.split(" ");Account.verifyState();document.getElementById("password-login").value="";var e=document.getElementById("login-info");"good"===
d[0]?(e.innerHTML="Please enter your credentials",closeAllPopups()):"bad"===d[0]&&("account_innactive"===d[1]?e.innerHTML="Inactive Account":"incorrect_login"===d[1]&&(e.innerHTML="Incorrect Login"))},error:function(d,e,f){console.log(d);console.log(e);console.log(f);document.getElementById("login-info").innerHTML="Connection Error"}})};
Account.verifyState=function(){var a=new FormData;a.append("email",Account.email);$.ajax({url:"https://yapms.org/auth/verify_login.php",type:"POST",data:a,processData:!1,contentType:!1,xhrFields:{withCredentials:!0},crossDomain:!0,success:function(b){console.log("Verify Login: "+b);b=b.split(" ");Account.isLoggedIn="good"===b[0];Account.isLoggedIn?(Account.email=b[1],Account.id=b[2]):(Account.id=null,Account.email=null);Account.updateHTML()},error:function(b,c,d){console.log("Account: Could not login")}})};
Account.logout=function(){closeAllPopups();$.ajax({url:"https://yapms.org/auth/logout.php",type:"POST",processData:!1,contentType:!1,xhrFields:{withCredentials:!0},crossDomain:!0,success:function(a){console.log("Logout: "+a);Account.verifyState()},error:function(a,b,c){console.log(a);console.log(b);console.log(c)}})};
Account.unlink=function(a){var b=new FormData;b.append("mapName",a);$.ajax({url:"https://yapms.org/users/.tools/unlink.php",type:"POST",data:b,processData:!1,contentType:!1,xhrFields:{withCredentials:!0},crossDomain:!0,success:function(c){gtag("event",currentCache,{event_category:"Account",event_label:"Map Deleted From Account"})},error:function(c,d,e){console.log(c);console.log(d);console.log(e)}})};
Account.save=function(a){var b=new FormData,c=document.getElementById("mysaves-current-mappreview");c&&b.append("img",c.src);if(a)b.append("mapName",a);else if(a=document.getElementById("mysaves-name-input"))b.append("mapName",a.value),a.value="";var d=document.getElementById("mysaves-current-error");d&&(d.style.display="none");a={};a.filename=MapLoader.save_filename;a.dataid=MapLoader.save_dataid;a.type=MapLoader.save_type;a.year=MapLoader.save_year;a.fontsize=MapLoader.save_fontsize;a.strokewidth=
MapLoader.save_strokewidth;a.candidates={};a.states={};a.proportional={};for(var e in CandidateManager.candidates)"Tossup"!==e&&(c=CandidateManager.candidates[e],a.candidates[c.name]={},a.candidates[c.name].solid=c.colors[0],a.candidates[c.name].likely=c.colors[1],a.candidates[c.name].lean=c.colors[2],a.candidates[c.name].tilt=c.colors[3]);for(c=0;c<states.length;++c){var f=states[c];for(e in f.delegates){var g=f.delegates[e];0===g&&delete f.delegates[e]}a.states[f.name]={};a.states[f.name].delegates=
f.delegates;a.states[f.name].simulator=f.simulator;a.states[f.name].colorvalue=f.colorValue;a.states[f.name].disabled=f.disabled}for(c=0;c<proportionalStates.length;++c){f=proportionalStates[c];for(e in f.delegates)g=f.delegates[e],0===g&&delete f.delegates[e];a.proportional[f.name]={};a.proportional[f.name].delegates=f.delegates;a.proportional[f.name].simulator=f.simulator;a.proportional[f.name].colorvalue=f.colorValue;a.proportional[f.name].disabled=f.disabled}b.append("data",JSON.stringify(a));
$.ajax({url:"https://yapms.org/users/.tools/upload.php",type:"POST",data:b,processData:!1,contentType:!1,xhrFields:{withCredentials:!0},crossDomain:!0,success:function(h){h=h.split(" ");console.log(h);"bad"===h[0]?(d.style.display="inline",d.innerHTML="no_map_name"===h[1]?"Enter Map Name":"file_limit"===h[1]?"File Limit Reached":"Upload Error"):(Account.addMapBox(h[1],!0),gtag("event",currentCache,{event_category:"Account",event_label:"Map Saved To Account"}))},error:function(h,k,l){console.log(h);
console.log(k);console.log(l)}})};
Account.changePassword=function(){var a=new FormData,b=document.getElementById("password-reset-1").value,c=document.getElementById("password-reset-2").value,d=document.getElementById("password-reset-3").value;a.append("current",b);a.append("new",c);a.append("verify",d);$.ajax({url:"https://yapms.org/auth/change_password.php",type:"POST",data:a,processData:!1,contentType:!1,xhrFields:{withCredentials:!0},crossDomain:!0,success:function(e){console.log("Change Password: "+e);e=e.split(" ");var f=document.getElementById("passwordchange-info");
"good"===e[0]?(closeAllPopups(),displayNotification("Password Change","Your password has been changed"),f.innerHTML="Please enter current and new password",document.getElementById("password-reset-1").value="",document.getElementById("password-reset-2").value="",document.getElementById("password-reset-3").value=""):"bad"===e[0]&&("verify_incorrect"===e[1]?f.innerHTML="Passwords do not match":"incorrect_pass"===e[1]?f.innerHTML="Current password incorrect":"no_post"===e[1]&&(f.innerHTML="Missing information"))},
error:function(e,f,g){console.log(e);console.log(f);console.log(g)}})};
Account.forgotPassword=function(){var a=new FormData,b=document.getElementById("email-forgot-input").value;a.append("email",b);$.ajax({url:"https://yapms.org/auth/forgot_password.php",type:"POST",data:a,processData:!1,contentType:!1,xhrFields:{withCredentials:!0},crossDomain:!0,success:function(c){console.log("Forgot Password: "+c);c=c.split(" ");closeAllPopups();"good"===c[0]?"reset_sent"===c[1]&&displayNotification("Password Reset","Password reset email sent. (check your spam)"):"bad"===c[0]&&("innactive_account"===
c[1]?displayNotification("Password Reset Error",b+" is not active. Please register or verify."):"recent_verification"===c[1]?displayNotification("Password Reset Error","Password was recently reset, please wait."):"please_register"===c[1]&&displayNotification("Password Reset Error",b+" is not registered. Please register."))},error:function(c,d,e){console.log(c);console.log(d);console.log(e)}})};
Account.addMapBox=function(a,b){var c=atob(a),d=document.getElementById("mappreview-"+a);if(d)d.src="https://yapms.org/users/"+Account.id+"/"+a+".png#"+(new Date).getTime();else{var e=document.createElement("div");e.className="mysaves-mapbox";e.id="mapbox-"+a;d=document.createElement("div");d.className="mysaves-mapbox-header";var f=document.createElement("div");f.className="mysaves-mapbox-toolbar";var g=document.createElement("img");g.className="toolbar-button toolbar-button-red";g.src="./html/deletebutton.svg";
g.setAttribute("title","Delete Map");g.onclick=function(){var k=document.getElementById("mysaves-maps");return function(){Account.unlink(a);k&&e&&k.removeChild(e)}}();f.appendChild(g);g=document.createElement("a");g.setAttribute("class","toolbar-button toolbar-button-blue");g.setAttribute("href","https://yapms.org/users/.tools/download.php?u="+Account.id+"&m="+a);g.setAttribute("title","Download");var h=document.createElement("img");h.src="./html/downloadbutton.svg";h.setAttribute("class","toolbar-button-download");
g.appendChild(h);f.appendChild(g);g=document.createElement("img");g.setAttribute("class","toolbar-button toolbar-button-green");g.src="./html/overwritebutton.svg";g.setAttribute("title","Overwrite");g.onclick=function(){return function(){Account.save(c)}}();f.appendChild(g);d.appendChild(f);f=document.createElement("div");f.className="mysaves-mapname";f.innerHTML=c;d.appendChild(f);e.appendChild(d);d=document.createElement("img");d.className="mysaves-mappreview";d.id="mappreview-"+a;d.src="https://yapms.org/users/"+
Account.id+"/"+a+".png#"+(new Date).getTime();d.alt="No Preview";d.onclick=function(){var k="https://www.yapms.com/app/?u="+Account.id+"&m="+a;return function(){window.location.href=k}}();e.appendChild(d);d=document.createElement("div");d.className="mysaves-url";f=document.createTextNode("https://www.yapms.com/app/?u="+Account.id+"&m="+a);d.appendChild(f);e.appendChild(d);d=document.getElementById("mysaves-maps");b?d.insertBefore(e,d.firstChild):d.appendChild(e)}};
Account.closeMyMaps=function(){document.getElementById("application-mysaves").style.display="none";for(var a=document.getElementById("mysaves-maps");a.firstChild;)a.removeChild(a.firstChild)};
Account.getMaps=function(){for(var a=document.getElementById("mysaves-maps");a.firstChild;)a.removeChild(a.firstChild);if(a=document.getElementById("mysaves-current-map"))a.style.display="none";if(a=document.getElementById("mysaves-current-error"))a.style.display="none";if(a=document.getElementById("application-mysaves"))a.style.display="inline-flex";html2canvas(document.getElementById("application"),{logging:!1,onclone:function(b){var c=b.getElementById("text");c&&(c.style.fontFamily="arial",c.style.fontSize=
"15px");c=b.getElementById("svgdata");var d=b.getElementById("map-div");c&&d&&(c.setAttribute("width",d.offsetWidth),c.setAttribute("height",d.offsetHeight));if(c=b.getElementById("legend-tooltip"))c.style.display="none";c=b.getElementsByClassName("legend-delete");d=0;for(var e=c.length;d<e;++d){var f=c[d];f&&(f.style.display="none")}if(b=b.getElementById("legend-addcandidate-button"))b.style.display="none"}}).then(function(b){b.style.width=0;b.style.height=0;b.style.display="none";b=b.toDataURL("image/png");
var c=document.getElementById("mysaves-current-mappreview");c.src=b;c.style.width="40vw";c.style.height="auto";if(b=document.getElementById("mysaves-current-map"))b.style.display="inline-flex"});$.ajax({url:"https://yapms.org/users/.tools/get_maps.php",type:"POST",processData:!1,contentType:!1,xhrFields:{withCredentials:!0},crossDomain:!0,success:function(b){b=b.split(" ");for(var c=0;c<b.length;++c){var d=b[c].split("/")[2].split(".")[0];Account.addMapBox(d,!1)}},error:function(b,c,d){console.log(b);
console.log(c);console.log(d)}})};Account.updateHTML=function(){var a=document.getElementById("login-button"),b=document.getElementById("account-button"),c=document.getElementById("mymaps-button"),d=document.getElementById("account-email");Account.isLoggedIn?(a.style.display="none",b.style.display="",c.style.display="",d.innerHTML=Account.email):(a.style.display="",b.style.display="none",c.style.display="none")};Account.email=null;Account.id=null;Account.isLoggedIn=!1;
$("#login-form").submit(function(a){a.preventDefault();Account.login()});var Candidate=function(a,b){this.name=a;this.colors=b;this.voteCount=0;this.probVoteCounts=[0,0,0,0];this.singleColor=b[0]===b[1]&&b[0]===b[2]&&b[0]===b[3]?!0:!1},CandidateManager=function(){};CandidateManager.initCandidates=function(){CandidateManager.candidates=[];CandidateManager.candidates.Tossup=CandidateManager.TOSSUP};
CandidateManager.deleteCandidate=function(){closeAllPopups();for(var a=document.getElementById("candidate-originalName").value,b=0;b<states.length;++b){var c=states[b];c.candidate===a&&c.setColor("Tossup",0);c.delegates[a]=void 0}delete CandidateManager.candidates[a];ChartManager.chart.generateLegend();countVotes();LegendManager.updateLegend();ChartManager.updateChart()};
CandidateManager.setCandidate=function(){closeAllPopups();var a=document.getElementById("candidate-originalName").value,b=document.getElementById("candidate-name").value,c=document.getElementById("candidate-solid").value,d=document.getElementById("candidate-likely").value,e=document.getElementById("candidate-lean").value,f=document.getElementById("candidate-tilt").value;b!==a&&(Object.defineProperty(CandidateManager.candidates,b,Object.getOwnPropertyDescriptor(CandidateManager.candidates,a)),delete CandidateManager.candidates[a]);
var g=CandidateManager.candidates[b];g.name=b;g.colors[0]=c;g.colors[1]=d;g.colors[2]=e;g.colors[3]=f;c===d&&c===e&&c===f?(g.singleColor=!0,g.probVoteCounts[0]+=g.probVoteCounts[1]+g.probVoteCounts[2]+g.probVoteCounts[3],g.probVoteCounts[1]=0,g.probVoteCounts[2]=0,g.probVoteCounts[3]=0):g.singleColor=!1;for(c=0;c<states.length;++c)d=states[c],d.candidate===b?(d.setColor(b,d.colorValue,{setDelegates:!1}),console.log(d.colorValue)):d.candidate===a&&(d.setColor(b,d.colorValue,{setDelegates:!1}),d.delegates[b]=
d.delegates[a],d.delegates[a]=void 0);ChartManager.chart.generateLegend();LegendManager.updateLegend();ChartManager.updateChart()};
CandidateManager.addCandidate=function(a,b,c,d,e){void 0===a&&(a=document.getElementById("name"),a=null!==a?a.value:"Error");""!==a.trim()&&(void 0===b&&(b=document.getElementById("solid"),b=null!==b?b.value:"#000000"),void 0===c&&(c=document.getElementById("likely"),c=null!==c?c.value:"#000000"),void 0===d&&(d=document.getElementById("leaning"),d=null!==d?d.value:"#000000"),void 0===e&&(e=document.getElementById("tilting"),e=null!==e?e.value:"#000000"),b=new Candidate(a,[b,c,d,e]),CandidateManager.candidates[a]=
b,verifyPaintIndex(),ChartManager.chart.generateLegend(),ChartManager.updateChart(),LegendManager.updateLegend())};
CandidateManager.saveCustomColors=function(){var a=document.getElementById("custom-color-name").value,b=document.getElementById("solidcustom").value;CookieManager.appendCookie(a+"solid",b);b=document.getElementById("likelycustom").value;CookieManager.appendCookie(a+"likely",b);b=document.getElementById("leaningcustom").value;CookieManager.appendCookie(a+"leaning",b);b=document.getElementById("tiltingcustom").value;CookieManager.appendCookie(a+"tilting",b);CandidateManager.setColors(a)};
CandidateManager.setColors=function(a){var b=document.getElementById("solid"),c=document.getElementById("likely"),d=document.getElementById("leaning"),e=document.getElementById("tilting");"red"===a?(b.value="#bf1d29",c.value="#ff5865",d.value="#ff8b98",e.value="#cf8980"):"blue"===a?(b.value="#1c408c",c.value="#577ccc",d.value="#8aafff",e.value="#949bb3"):"green"===a?(b.value="#1c8c28",c.value="#50c85e",d.value="#8aff97",e.value="#7a997e"):"yellow"===a?(b.value="#e6b700",c.value="#e8c84d",d.value=
"#ffe78a",e.value="#b8a252"):"blue-light"===a?(b.value="#5555ff",c.value="#8080ff",d.value="#aaaaff",e.value="#d5d5ff"):"red-light"===a?(b.value="#ff5555",c.value="#ff8080",d.value="#ffaaaa",e.value="#ffd5d5"):"blue-dark"===a?(b.value="#302e80",c.value="#444cc5",d.value="#817ffb",e.value="#cdd3f7"):"red-dark"===a?(b.value="#80302e",c.value="#cb4b40",d.value="#fb817f",e.value="#f5c8c4"):(b.value=CookieManager.cookies[a+"solid"],c.value=CookieManager.cookies[a+"likely"],d.value=CookieManager.cookies[a+
"leaning"],e.value=CookieManager.cookies[a+"tilting"])};CandidateManager.candidates=[];CandidateManager.tossupColor=2;CandidateManager.TOSSUP=new Candidate("Tossup",["#000000","#ffffff","#696969","#000000"]);var ChartManager=function(){};
ChartManager.initChart=function(){ChartManager.chartOptions={legendCallback:function(b){console.log("Generating Legend...");b=document.getElementById("legend-div");b.innerHTML="";var c=-1,d;for(d in CandidateManager.candidates){var e=CandidateManager.candidates[d];++c;var f=document.createElement("div");f.setAttribute("id",e.name);f.setAttribute("class","legend-button");f.onclick=function(){var k=d;return function(){legendClick(k,this)}}();f.style.background="none";b.appendChild(f);var g=document.createElement("div");
g.setAttribute("id",e.name+"-text");g.setAttribute("class","legend-button-text");g.style.backgroundColor=e.colors[0];0==c&&(g.style.backgroundColor=e.colors[CandidateManager.tossupColor]);g.style.padding="0px";g.innerHTML=e.name;f.appendChild(g);var h=document.createElement("div");h.setAttribute("class","legend-delete");h.style.backgroundColor="black";g.appendChild(h);g=document.createElement("div");g.setAttribute("class","legend-color-div");f.appendChild(g);e.singleColor&&(g.style.display="none");
"Tossup"!==d&&(h=document.createElement("div"),h.setAttribute("class","legend-delete"),h.onclick=function(){var k=e.name;return function(){displayCandidateEditMenu(k)}}(),h.style.background="none",php_candidate_edit&&b.appendChild(h),f=document.createElement("div"),f.setAttribute("class","legend-delete-text"),f.style.backgroundColor=e.colors[0],f.style.padding="0px",f.style.fontSize="14px",f.innerHTML='<i class="fas fa-cog"></i>',h.appendChild(f));if("Tossup"!==d&&LegendManager.legendLeans)for(h=
["solid","likely","lean","tilt"],c=0;c<h.length;++c)f=document.createElement("div"),f.setAttribute("class","legend-color"),f.setAttribute("id",e.name+h[c]),f.style.backgroundColor=e.colors[c],g.appendChild(f)}f=document.createElement("div");f.setAttribute("id","legend-addcandidate-button");f.setAttribute("class","legend-button");f.onclick=displayAddCandidateMenu;f.style.background="none";php_candidate_edit&&b.appendChild(f);g=document.createElement("div");g.setAttribute("id","addcandidate-button-text");
g.setAttribute("class","legend-button-text");g.style.backgroundColor=CandidateManager.candidates.Tossup.colors[CandidateManager.tossupColor];g.style.padding="0px";g.innerHTML="+";f.appendChild(g);g=document.createElement("div");g.setAttribute("class","legend-color-div");f.appendChild(g);c=document.createElement("div");c.setAttribute("id","legend-tooltip");b.appendChild(c);g=document.createElement("div");g.setAttribute("id","legendtooltip-text");g.setAttribute("class","legend-button-text");g.style.padding=
"0px";g.innerHTML="Select a candidate";c.appendChild(g)},legend:{display:!1},tooltips:{display:!0,position:"average",titleFontColor:"black",bodyFontColor:"black",backgroundColor:"white",borderColor:"black",borderWidth:2,caretSize:0,cornerRadius:0},animation:{animateRotate:!1,animateScale:!0},plugins:{datalabels:{display:function(b){return 0!==b.dataset.data[b.dataIndex]},backgroundColor:"white",borderColor:"black",borderRadius:5,borderWidth:2,color:"black",font:{family:"Roboto",size:15,weight:700}}},
barStrokeWidth:0};ChartManager.chartBarScales={yAxes:[{stacked:!0,gridLines:{display:!1,drawBorder:!1},ticks:{fontSize:15,fontColor:"#ffffff",fontFamily:"Roboto",fontStyle:500}}],xAxes:[{stacked:!0,gridLines:{display:!1,drawBorder:!1},ticks:{beginAtZero:!0,fontSize:15,fontColor:"#ffffff",fontStyle:500,fontFamily:"Roboto"}}]};ChartManager.chartPieScales={yAxes:[{display:!1}],xAxes:[{display:!1}]};ChartManager.chartPolarScales={display:!1};ChartManager.chartRadarScales={display:!1};ChartManager.chartOptions.scales=
ChartManager.chartPieScales;Chart.defaults.global.elements.rectangle.borderWidth=2;var a=document.getElementById("chart-canvas").getContext("2d");a.height=200;ChartManager.chart=new Chart(a,{type:"doughnut",data:{labels:[],datasets:[{label:"",backgroundColor:"#ffffff",borderColor:"#ffffff",borderWidth:0,data:[]},{label:"",backgroundColor:"#ffffff",borderColor:"#ffffff",borderWidth:0,data:[]},{},{}]},options:ChartManager.chartOptions,maintainAspectRatio:!0});ChartManager.chartType="doughnut"};
ChartManager.setChart=function(a,b){console.log("Set Chart - "+a);var c=document.getElementById("chart-div"),d=document.getElementById("chart"),e=document.getElementById("chart-canvas"),f=e.getContext("2d"),g=document.getElementById("battlechart");d.style.display="inline-block";g.style.display="none";c.style.display="flex";c.style.width="28vw";if("none"===a)e.style.display="none",unsetBattleHorizontal(),c.style.display="none",ChartManager.chartType=a,MapManager.centerMap();else if("horizontalbattle"===
a||"verticalbattle"===a)3<Object.keys(CandidateManager.candidates).length?displayNotification("Sorry","This chart requires that there be two candidates"):("horizontalbattle"===a?(setBattleHorizontal(),b=document.getElementById("logo-div"),b.style.width="15%",b.style.height="100%",c.style.borderRight="0px",c.style.borderTop="1px solid black",b=document.getElementById("yapms-watermark"),b.style.width="15%",b.style.height="100%"):(unsetBattleHorizontal(),c.style.width="20vw",b=document.getElementById("logo-div"),
b.style.width="100%",b.style.height="15%",c.style.borderTop="0px",c.style.borderRight="1px solid black",b=document.getElementById("yapms-watermark"),b.style.width="100%",b.style.height="15%"),e.style.display="none",d.style.display="none",g.style.display="flex",ChartManager.chartType=a,ChartManager.updateChart(),MapManager.centerMap());else{unsetBattleHorizontal();ChartManager.chartPosition=b;"bottom"===b?(d=document.getElementById("application"),d.style.flexDirection="column-reverse",d=document.getElementById("map-div"),
d.style.height="80%",c.style.flexDirection="row",c.style.width="100%",c.style.height="20%",c.style.borderRight="0px",c.style.borderTop="1px solid black",d=document.getElementById("chart"),d.style.height="auto",d.style.width=""+(c.offsetHeight-5)+"px",b=document.getElementById("logo-div"),b.style.width="15%",b.style.height="100%",b=document.getElementById("yapms-watermark"),b.style.width="15%",b.style.height="100%"):(d=document.getElementById("application"),d.style.flexDirection="row",d=document.getElementById("map-div"),
d.style.height="100%",c.style.flexDirection="column",c.style.width="28vw",c.style.height="100%",c.style.borderTop="0px",c.style.borderRight="1px solid black",d=document.getElementById("chart"),d.style.width="100%",b=document.getElementById("logo-div"),b.style.width="100%",b.style.height="15%",b=document.getElementById("yapms-watermark"),b.style.width="100%",b.style.height="15%");MapManager.centerMap();ChartManager.chartType=a;ChartManager.chartData={labels:[],datasets:[{borderColor:ChartManager.chartBorderColor,
borderWidth:ChartManager.chartBorderWidth,data:[]}]};e.style.display="inline-block";if("horizontalBar"===a)for(ChartManager.chartOptions.scales=ChartManager.chartBarScales,delete ChartManager.chartOptions.scale,c=0;3>c;++c)ChartManager.chartData.datasets.push({borderColor:ChartManager.chartBorderColor,borderWidth:ChartManager.chartBorderWidth,data:[]});else if("pie"===a||"doughnut"===a)ChartManager.chartOptions.scales=ChartManager.chartPieScales,delete ChartManager.chartOptions.scale;ChartManager.chart.destroy();
ChartManager.chart=new Chart(f,{type:a,data:ChartManager.chartData,options:ChartManager.chartOptions});ChartManager.updateChart()}};ChartManager.rebuildChart=function(){var a=document.getElementById("chart-canvas").getContext("2d");ChartManager.chart.destroy();ChartManager.chart=new Chart(a,{type:ChartManager.chart.config.type,data:ChartManager.chartData,options:ChartManager.chartOptions});"battle"===ChartManager.chartType&&(document.getElementById("chart").style.display="none");ChartManager.updateChart()};
ChartManager.updateChart=function(){"verticalbattle"===ChartManager.chartType||"horizontalbattle"===ChartManager.chartType?updateBattleChart():("horizontalBar"===ChartManager.chartType?ChartManager.updateBarChart():ChartManager.updateNonRadarChart(),ChartManager.chart.config.data=ChartManager.chartData,ChartManager.chart.update())};
ChartManager.updateBarChart=function(){ChartManager.chartData.labels=[];ChartManager.chartData.datasets[0].data=[];ChartManager.chartData.datasets[0].backgroundColor=[];ChartManager.chartData.datasets[1].data=[];ChartManager.chartData.datasets[1].backgroundColor=[];ChartManager.chartData.datasets[2].data=[];ChartManager.chartData.datasets[2].backgroundColor=[];ChartManager.chartData.datasets[3].data=[];ChartManager.chartData.datasets[3].backgroundColor=[];for(var a in CandidateManager.candidates)ChartManager.chartData.labels.push(a);
if(ChartManager.chartLeans)for(var b=0;4>b;++b)for(a in CandidateManager.candidates){var c=CandidateManager.candidates[a],d=c.probVoteCounts[b];ChartManager.chartData.datasets[b].data.push(d);c=c.colors[b];ChartManager.chartData.datasets[b].backgroundColor.push(c)}else for(a in CandidateManager.candidates)c=CandidateManager.candidates[a],d=c.voteCount,ChartManager.chartData.datasets[0].data.push(d),c="Tossup"===a?c.colors[2]:c.colors[0],ChartManager.chartData.datasets[0].backgroundColor.push(c)};
ChartManager.updateNonRadarChart=function(){ChartManager.chartData.labels=[];ChartManager.chartData.datasets[0].data=[];ChartManager.chartData.datasets[0].backgroundColor=[];ChartManager.chartData.datasets[0].borderColor=ChartManager.chartBorderColor;ChartManager.chartData.datasets[0].borderWidth=ChartManager.chartBorderWidth;var a=-1,b;for(b in CandidateManager.candidates){++a;var c=CandidateManager.candidates[b],d=c.name,e=c.voteCount;if(0==a){var f=CandidateManager.candidates.Tossup.colors[CandidateManager.tossupColor];
ChartManager.chartData.labels[0]="Tossup";ChartManager.chartData.datasets[0].data[0]=e;ChartManager.chartData.datasets[0].backgroundColor.push(f)}else if(ChartManager.chartLeans)for(e=0;4>e;++e){var g=c.probVoteCounts[e];f=c.colors[e];var h=e+4*a-3;ChartManager.chartData.labels[h]=d;ChartManager.chartData.datasets[0].data[h]=g;ChartManager.chartData.datasets[0].backgroundColor.push(f)}else g=c.voteCount,f=c.colors[0],ChartManager.chartData.labels[a]=d,ChartManager.chartData.datasets[0].data[a]=g,
ChartManager.chartData.datasets[0].backgroundColor.push(f)}};ChartManager.toggleChartLabels=function(){ChartManager.chartLabels=!ChartManager.chartLabels;ChartManager.chartOptions.plugins.datalabels.display=0!=ChartManager.chartOptions.plugins.datalabels.display?!1:function(a){return 0!==a.dataset.data[a.dataIndex]};ChartManager.rebuildChart()};ChartManager.toggleChartLeans=function(){ChartManager.chartLeans=!ChartManager.chartLeans;ChartManager.rebuildChart();updateBattleChart()};
ChartManager.chart=null;ChartManager.chartBorderWidth=2;ChartManager.chartBorderColor="#000000";ChartManager.chartData={labels:[],datasets:[{label:"",backgroundColor:[],borderColor:ChartManager.chartBorderColor,borderWidth:ChartManager.chartBorderWidth,data:[]},{},{},{}]};ChartManager.chartOptions=null;ChartManager.chartType=null;ChartManager.chartPosition=null;ChartManager.chartPieScales=null;ChartManager.chartBarScales=null;ChartManager.chartPolarScales=null;ChartManager.chartRadarScales=null;
ChartManager.chartLeans=!0;ChartManager.chartLabels=!0;var CookieManager=function(){};CookieManager.appendCookie=function(a,b){if(!1===CookieManager.consent)console.log("Cookie Manager: no consent");else{CookieManager.cookies[a]=b;var c=(new Date(Date.now()+3024E7)).toString();document.cookie=a+"="+CookieManager.cookies[a]+"; expires="+c+";";console.log("Append cookie: key="+a+" value="+b)}};
CookieManager.loadCookies=function(){for(var a=1;11>a;++a)CookieManager.cookies["custom"+a+"solid"]="#000000",CookieManager.cookies["custom"+a+"likely"]="#000000",CookieManager.cookies["custom"+a+"leaning"]="#000000",CookieManager.cookies["custom"+a+"tilting"]="#000000";CookieManager.cookies.theme="default";a=decodeURIComponent(document.cookie).split("; ");for(var b in a){var c=a[b].split("=");CookieManager.cookies[c[0]]=c[1]}};
CookieManager.loadCustomColors=function(){for(var a=1;11>a;++a)document.getElementById("custom"+a+"button").style.background="linear-gradient(to right,"+CookieManager.cookies["custom"+a+"solid"]+","+CookieManager.cookies["custom"+a+"likely"]+","+CookieManager.cookies["custom"+a+"leaning"]+","+CookieManager.cookies["custom"+a+"tilting"]+")"};
CookieManager.askConsent=function(){"false"===CookieManager.cookies.consent?(CookieManager.consent=!1,CookieManager.consentDenied()):(CookieManager.consent=!0,CookieManager.consentGiven())};CookieManager.consentDenied=function(a){document.getElementById("consent").style.display="none";CookieManager.consent=!0;CookieManager.appendCookie("consent",!1);CookieManager.consent=!1;a&&location.reload()};
CookieManager.consentGiven=function(){document.getElementById("consent").style.display="none";CookieManager.consent=!0;CookieManager.appendCookie("consent",!0)};CookieManager.cookies={};CookieManager.consent=!1;var InputManager=function(){};
InputManager.enableInputDesktop=function(){null!=MapManager.panObject&&(MapManager.panObject.isPanEnabled(),MapManager.panObject.isZoomEnabled());MapManager.panObject=svgPanZoom("#svgdata",{fit:!0,center:!0,contain:!1,panEnabled:!0,zoomEnabled:!0,dblClickZoomEnabled:!1,maxZoom:100,zoomScaleSensitivity:.1})};
InputManager.enableInputMobile=function(){MapManager.panObject=svgPanZoom("#svgdata",{fit:!0,center:!0,contain:!1,maxZoom:100,zoomScaleSensitivity:.1,dblClickZoomEnabled:!1,customEventsHandler:{haltEventListeners:["touchstart","touchend","touchmove","touchleave","touchcancel"],init:function(a){var b=a.instance,c=1,d=0,e=0;this.hammer=Hammer(a.svgElement,{inputClass:Hammer.SUPPORT_POINTER_EVENTS?Hammer.PointerEventInput:Hammer.TouchInput});this.hammer.get("pinch").set({enable:!0});this.hammer.on("panstart panmove",
function(f){"panstart"===f.type&&(e=d=0);b.panBy({x:f.deltaX-d,y:f.deltaY-e});d=f.deltaX;e=f.deltaY});this.hammer.on("pinchstart pinchmove",function(f){"pinchstart"===f.type&&(c=b.getZoom(),b.zoomAtPoint(c*f.scale,{x:f.center.x,y:f.center.y}));b.zoomAtPoint(c*f.scale,{x:f.center.x,y:f.center.y})})}}})};var KeyboardManager=function(){};KeyboardManager.quickFill=function(){return!0===KeyboardManager.keyStates[70]};KeyboardManager.areaSelect=function(){return!0===KeyboardManager.keyStates[68]};
KeyboardManager.keyStates={};document.addEventListener("keydown",function(a){KeyboardManager.keyStates[a.which]=!0});document.addEventListener("keyup",function(a){KeyboardManager.keyStates[a.which]=!1});document.addEventListener("mouseleave",function(a){KeyboardManager.keyStates={}});document.addEventListener("mouseenter",function(a){KeyboardManager.keyStates={}});var LegendManager=function(){};LegendManager.toggleLegendCounter=function(){LegendManager.legendCounter=!LegendManager.legendCounter;LegendManager.updateLegend()};
LegendManager.toggleLegendLeans=function(){LegendManager.legendLeans=!LegendManager.legendLeans;ChartManager.chart.generateLegend();LegendManager.updateLegend()};LegendManager.selectCandidateDisplay=function(a){for(var b=a.parentElement.children,c=0;c<b.length;++c)b[c].childNodes[0].style.padding="4px";a.childNodes[0].style.padding="7px"};
LegendManager.updateLegend=function(){for(var a in CandidateManager.candidates){var b=CandidateManager.candidates[a],c=document.getElementById(b.name+"-text"),d=b.name;1==LegendManager.legendCounter&&(d+=" "+b.voteCount);null!==c&&(c.innerHTML=d);a===paintIndex&&LegendManager.selectCandidateDisplay(c.parentElement)}};LegendManager.legendCounter=!0;LegendManager.legendLeans=!0;var LogoManager=function(){};
LogoManager.toggleLogo=function(a){var b=document.getElementById("logo-div");switch(a){case "LTE":b.style.backgroundImage='url("https://www.yapms.com/app/res/logos/lte.png")';break;case "RedEagle":b.style.backgroundImage='url("https://www.yapms.com/app/res/logos/redeagletv.png")';break;case "PG":b.style.backgroundImage='url("https://www.yapms.com/app/res/logos/pg.png")';break;case "EP":b.style.backgroundImage='url("https://www.yapms.com/app/res/logos/ep.png")';break;case "RedDonkey":b.style.backgroundImage=
'url("https://www.yapms.com/app/res/logos/reddonkey.png")';break;case "PoliticalAnalyst":b.style.backgroundImage='url("https://www.yapms.com/app/res/logos/pa.jpg")';break;case "CommanderVideo":b.style.backgroundImage='url("https://yt3.ggpht.com/ytc/AAUvwngdjF6yfRaC-PiVvALYVzKMbYQi2rcHKHWuRSot_A=s88-c-k-c0x00ffffff-no-rj")'}LogoManager.currentLogo!==a?b.style.display="inline":""===b.style.display?b.style.display="inline":"inline"===b.style.display&&(b.style.display="");LogoManager.currentLogo=a};
LogoManager.loadButtons=function(){if(!LogoManager.buttonsLoaded){LogoManager.buttonsLoaded=!0;for(var a=document.getElementsByClassName("backbutton-addcandidatemenu"),b=document.getElementsByClassName("backbutton"),c=document.getElementsByClassName("closebutton"),d=0;d<a.length;++d){var e=a[d];e.setAttribute("data","./html/backbutton-addcandidate.svg")}for(d=0;d<b.length;++d)e=b[d],e.setAttribute("data","./html/backbutton.svg");for(d=0;d<c.length;++d)e=c[d],e.setAttribute("data","./html/closebutton.svg")}};
LogoManager.loadFlags=function(){if(!LogoManager.flagsLoaded){LogoManager.flagsLoaded=!0;for(var a="aus usa bra can ger ind ita ire ned prt rus esp tur ukd eu un fra tat che zaf swe arg pak".split(" "),b=0;b<a.length;++b)for(var c=a[b],d=document.getElementsByClassName("flag-"+c),e=0;e<d.length;++e)d[e].setAttribute("src","res/flags/"+c+".svg")}};LogoManager.currentLogo="";LogoManager.buttonsLoaded=!1;LogoManager.flagsLoaded=!1;var MapManager=function(){};
MapManager.centerMap=function(){null!==MapManager.panObject&&(MapManager.panObject.resize(),MapManager.panObject.fit(),MapManager.panObject.center(),MapManager.panObject.zoomBy(.85))};
MapManager.setLockMap=function(a){var b=document.getElementById("lockbutton");!0===a?(b&&(b.style.opacity="0.5"),MapManager.panObject.disablePan(),MapManager.panObject.disableZoom(),MapManager.lockedMap=!0):(b&&(b.style.opacity="1"),MapManager.panObject.enablePan(),MapManager.panObject.enableZoom(),MapManager.lockedMap=!1)};
MapManager.toggleLockMap=function(){var a=document.getElementById("lockbutton");MapManager.lockedMap?(a&&(a.style.opacity="1"),MapManager.panObject.enablePan(),MapManager.panObject.enableZoom(),MapManager.lockedMap=!1):(a&&(a.style.opacity="0.5"),MapManager.panObject.disablePan(),MapManager.panObject.disableZoom(),MapManager.lockedMap=!0)};MapManager.lockedMap=!1;MapManager.panObject=null;var enableCongress=!1,enableCongressContested=!1,MapLoader=function(){};
MapLoader.loadPresetMap=function(a,b){CandidateManager.initCandidates();var c=!1;b&&(c=b.enableCongress);"usa/USA_2020_house_cook"===a&&(c=enableCongressContested=!0);fetch("./res/presets/"+a).then(function(d){return d.json()}).then(function(d){console.log(d);MapLoader.loadSavedMap(d,{enableCongress:c})}).catch(function(d){console.error(d)})};
MapLoader.loadMapFromURL=function(a){console.log("Map Loader: "+a);fetch(a).then(function(b){return b.json()}).then(function(b){PresetLoader.loadPreset("none");console.log("Map Load: Found saved map");console.log("Map Loader: Attemping new file load");MapLoader.loadSavedMap(b)}).catch(function(b){console.log("Map Loader: Did not find saved map");MapLoader.loadMap("./res/usa_presidential.svg",16,1,"usa_ec","presidential","open");b=document.getElementById("notification");var c=b.querySelector("#notification-message");
b.querySelector("#notification-title").innerHTML="Sorry";c.innerHTML="The map you are looking for does not exist.<br><br>This feature is still in development and it may have been deleted.";b.style.display="inline"})};
MapLoader.loadMapFromId=function(a){switch(a){case "USA_current_house":PresetLoader.loadPreset("none");MapLoader.loadPresetMap("usa/"+a,{enableCongress:!0});break;case "UnitedKingdom_current_parliament":PresetLoader.loadPreset("none");MapLoader.loadPresetMap("ukd/"+a);break;case "USA_current_senate":case "USA_2024_projection":case "USA_2020_cook":case "USA_2020_inside":case "USA_2020_sabatos":case "USA_2020_house_cook":case "USA_2016_presidential":case "USA_2016_presidential_county":case "USA_2016_democratic_primary":case "USA_2016_republican_primary":case "USA_2012_presidential":case "USA_2008_presidential":case "USA_2004_presidential":case "USA_2000_presidential":case "USA_1996_presidential":case "USA_1992_presidential":case "USA_1988_presidential":case "USA_1984_presidential":case "USA_1980_presidential":case "USA_1976_presidential":case "USA_1972_presidential":case "USA_1968_presidential":case "USA_1964_presidential":case "USA_1960_presidential":case "USA_1956_presidential":case "USA_1952_presidential":case "USA_1948_presidential":case "USA_1944_presidential":case "USA_1940_presidential":case "USA_1936_presidential":case "USA_1932_presidential":case "USA_1928_presidential":case "USA_1924_presidential":case "USA_1920_presidential":case "USA_1916_presidential":case "USA_1912_presidential":case "USA_1908_presidential":case "USA_1904_presidential":case "USA_1900_presidential":case "USA_1896_presidential":case "USA_1892_presidential":case "USA_1888_presidential":case "USA_1884_presidential":case "USA_1880_presidential":case "USA_1876_presidential":case "USA_1872_presidential":case "USA_1868_presidential":case "USA_1864_presidential":case "USA_1789_presidential":case "USA_1792_presidential":case "USA_1796_presidential":case "USA_1800_presidential":case "USA_1804_presidential":case "USA_1808_presidential":case "USA_1812_presidential":case "USA_1816_presidential":case "USA_1820_presidential":case "USA_1824_presidential":case "USA_1828_presidential":case "USA_1832_presidential":case "USA_1836_presidential":case "USA_1840_presidential":case "USA_1844_presidential":case "USA_1848_presidential":case "USA_1852_presidential":case "USA_1856_presidential":case "USA_1860_presidential":PresetLoader.loadPreset("none");MapLoader.loadPresetMap("usa/"+
a);break;case "USA_trump_impeachment_support":PresetLoader.loadPreset("none");MapLoader.loadPresetMap("usa/"+a,{enableCongress:!0});break;case "Canada_2019_house_of_commons":PresetLoader.loadPreset("none");MapLoader.loadPresetMap("can/"+a);break;case "Alabama_2020_state_lower":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/alabama/2020_house.svg",16,.15,"1","takeall_noedit","open");break;case "Alaska_2020_state_lower":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/alaska/2020_house.svg",
16,.02,"1","takeall_noedit","open");break;case "Arkansas_2020_state_upper":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/arkansas/2020_upper.svg",16,4.5,"1","takeall_noedit","open");break;case "Arkansas_2020_state_lower":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/arkansas/2020_house.svg",16,150,"1","takeall_noedit","open");break;case "California_2020_state_upper":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/california/2020_upper.svg",16,.25,
"1","takeall_noedit","open");break;case "California_2020_state_lower":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/california/2020_house.svg",16,.1,"1","takeall_noedit","open");break;case "Colorado_2020_state_lower":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/colorado/2020_house.svg",16,.15,"1","takeall_noedit","open");break;case "Connecticut_2020_state_lower":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/connecticut/2020_house.svg",16,.5,"1",
"takeall_noedit","open");break;case "Florida_2020_state_upper":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/florida/2020_upper.svg",16,.3,"1","takeall_noedit","open");break;case "Florida_2020_state_lower":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/florida/2020_house.svg",16,.25,"1","takeall_noedit","open");break;case "Hawaii_2020_state_lower":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/hawaii/2020_house.svg",16,.2,"1","takeall_noedit","open");
break;case "Idaho_2020_state_upper":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/idaho/2020_house.svg",16,.2,"1","takeall_noedit","open");break;case "Idaho_2020_state_lower":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/idaho/2020_house.svg",16,.2,"2","proportional","open");break;case "Iowa_2020_state_lower":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/iowa/2020_house.svg",16,.2,"1","takeall_noedit","open");break;case "Iowa_2020_state_upper":PresetLoader.loadPreset("classic");
MapLoader.loadMap("./res/usa/iowa/2020_senate.svg",16,.2,"1","takeall_noedit","open");break;case "Michigan_2020_state_lower":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/michigan/2020_house.svg",16,.2,"1","takeall_noedit","open");break;case "Minnesota_2020_state_upper":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/minnesota/2020_upper.svg",16,.5,"1","takeall_noedit","open");break;case "Minnesota_2020_state_lower":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/minnesota/2020_house.svg",
16,.5,"1","takeall_noedit","open");break;case "NewJersey_2020_state_upper":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/newjersey/2020_house.svg",16,.1,"1","takeall_noedit","open");break;case "NewJersey_2020_state_lower":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/newjersey/2020_house.svg",16,.1,"2","proportional","open");break;case "NewMexico_2020_state_lower":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/newmexico/2020_house.svg",16,.1,"1",
"takeall_noedit","open");break;case "NorthCarolina_2020_state_upper":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/northcarolina/2020_senate.svg",16,.5,"1","takeall_noedit","open");break;case "NorthDakota_2020_state_upper":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/northdakota/2020_upper.svg",16,.1,"1","takeall_noedit","open");break;case "NorthDakota_2020_state_lower":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/northdakota/2020_house.svg",
16,.1,"2","proportional","open");break;case "Ohio_2020_state_upper":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/ohio/2020_upper.svg",16,.05,"1","takeall_noedit","open");break;case "Ohio_2020_state_lower":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/ohio/2020_lower.svg",16,.1,"1","takeall_noedit","open");break;case "Oregon_2020_state_upper":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/oregon/2020_upper.svg",16,0,"1","takeall_noedit","open");
break;case "Oregon_2020_state_lower":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/oregon/2020_house.svg",16,.1,"1","takeall_noedit","open");break;case "Pennsylvania_2020_state_upper":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/pennsylvania/2020_upper.svg",16,.5,"1","takeall_noedit","open");break;case "Pennsylvania_2020_state_lower":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/pennsylvania/2020_house.svg",16,.25,"1","takeall_noedit","open");
break;case "SouthDakota_2020_state_lower":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/southdakota/2020_house.svg",16,1,"1","takeall_noedit","open");break;case "Texas_2020_state_upper":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/texas/2020_upper.svg",16,.75,"1","takeall_noedit","open");break;case "Texas_2020_state_lower":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/texas/2020_house.svg",16,.5,"1","takeall_noedit","open");break;case "Virginia_2020_state_upper":PresetLoader.loadPreset("classic");
MapLoader.loadMap("./res/usa/virginia/2020_senate.svg",16,.015,"1","takeall_noedit","open");break;case "Virginia_2020_state_lower":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/virginia/2020_house.svg",16,.015,"1","takeall_noedit","open");break;case "Washington_2020_state_upper":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/washington/2020_house.svg",16,.15,"1","takeall_noedit","open");break;case "Washington_2020_state_lower":PresetLoader.loadPreset("classic");
MapLoader.loadMap("./res/usa/washington/2020_house.svg",16,.15,"2","proportional","open");break;case "Wisconsin_2020_state_lower":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/wisconsin/2020_house.svg",16,.5,"1","takeall_noedit","open");break;case "USA_presidential_territories":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/usa_presidential_territories.svg",16,.75,"usa_territories_ec","takeall","open");break;case "USA_2024_presidential":PresetLoader.loadPreset("classic");
MapLoader.loadMap("./res/usa/presidential/usa_presidential.svg",16,.75,"usa_2024_ec","takeall","open");break;case "USA_2020_presidential":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/presidential/usa_presidential.svg",16,.75,"usa_ec","takeall","open");break;case "USA_split_maine":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/presidential/usa_1972_presidential.svg",16,.75,"usa_1972_ec","takeall","open");break;case "USA_2022_senate":PresetLoader.loadPreset("classic");
MapLoader.loadMap("./res/usa/senate/usa_senate.svg",16,1,"1","senatorial","2022");break;case "USA_2020_senate":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/senate/usa_senate.svg",16,1,"1","senatorial","2020");break;case "USA_2022_governors":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/governors/usa_gubernatorial.svg",16,.75,"1","gubernatorial","2022");break;case "USA_2021_governors":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/governors/usa_gubernatorial.svg",16,.75,"1","gubernatorial","2021");break;case "USA_2020_governors":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/governors/usa_gubernatorial.svg",
16,.75,"1","gubernatorial","2020");break;case "USA_2019_governors":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/governors/usa_gubernatorial.svg",16,.75,"1","gubernatorial","2019");break;case "USA_2020_democratic_primary":PresetLoader.loadPreset("democratic primary");MapLoader.loadMap("./res/usa/primary/usa_dem_primary.svg",16,.75,"dem_primary","proportional","open");break;case "USA_2020_republican_primary":PresetLoader.loadPreset("republican primary");MapLoader.loadMap("./res/usa/primary/usa_rep_primary.svg",16,.75,"rep_primary","proportional","open");break;case "USA_county":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/county/usa_county.svg",
16,.075,"1","takeall_noedit","open");break;case "USA_2022_house":case "USA_2020_house":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/house/12-2-2019-house.svg",16,.075,"1","takeall_noedit","open",{enableCongress:!0,enableEraser:!0});break;case "USA_2008_house":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/house/usa_congressional_2008.svg",16,.005,"1","takeall_noedit","open");break;case "USA_governors":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/governors/usa_gubernatorial.svg",
16,.75,"1","gubernatorial","open");break;case "USA_senate":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/senate/usa_senate.svg",16,.75,"1","senatorial","open");break;case "USA_takeall":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/presidential/usa_no_districts.svg",16,.75,"usa_no_districts_ec","takeall","open");break;case "USA_proportional":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/usa/presidential/usa_no_districts.svg",16,.75,"usa_no_districts_ec",
"proportional","open");break;case "USA_pre_civilwar":MapLoader.loadMap("./res/usa/presidential/usa_pre_civilwar.svg",16,.75,"usa_pre_civilwar_ec","presidential","open");break;case "Pakistan_national_assembly":PresetLoader.loadPreset("pakistan");MapLoader.loadMap("./res/pak/pakistan_constituencies.svg",16,.02,"1","takeall_noedit","open");break;case "Argentina_chamber_of_deputies":PresetLoader.loadPreset("argentina");MapLoader.loadMap("./res/arg/argentina_provinces_buenos.svg",16,.75,"argentina_chamber_of_deputies",
"proportional","open");break;case "India_2019_lok_sabha":PresetLoader.loadPreset("none");MapLoader.loadPresetMap("ind/"+a);break;case "USA_Canada":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/other/usa_canada.svg",16,.01,"1","takeall","open");break;case "Germany_states":PresetLoader.loadPreset("germany");MapLoader.loadMap("./res/deu/germany.svg",16,1,"1","takeall","open");break;case "Germany_bundestag":PresetLoader.loadPreset("germany");MapLoader.loadMap("./res/deu/germany_constituencies.svg",
16,.25,"1","takeall_noedit","open");break;case "France_national_assembly":PresetLoader.loadPreset("france");MapLoader.loadMap("./res/fra/france_constituencies.svg",16,.25,"1","takeall_noedit","open");break;case "Netherlands_provinces":PresetLoader.loadPreset("netherlands");MapLoader.loadMap("./res/nld/netherlands_provinces.svg",16,.15,"netherlands_provinces","proportional","open");break;case "Netherlands_gemeenten":PresetLoader.loadPreset("netherlands");MapLoader.loadMap("./res/nld/netherlands_gemeenten.svg",
16,.15,"1","takeall_noedit","open");break;case "Italy_states":PresetLoader.loadPreset("italy");MapLoader.loadMap("./res/ita/italy.svg",16,1,"1","takeall_noedit","open");break;case "Portugal_assembly_of_the_republic":PresetLoader.loadPreset("portugal");MapLoader.loadMap("./res/prt/portugal_constituencies.svg",16,.25,"portugal_constituencies","proportional","open");break;case "Poland":PresetLoader.loadPreset("portugal");MapLoader.loadMap("./res/pol/poland_senate.svg",16,.25,"1","takeall_noedit","open");
break;case "Spain_congress_of_deputies":PresetLoader.loadPreset("spain");MapLoader.loadMap("./res/esp/spain_constituencies.svg",16,.25,"spain_constituencies","proportional","open");break;case "Sweden_riksdag":PresetLoader.loadPreset("sweden");MapLoader.loadMap("./res/swe/sweden_districts.svg",25,.25,"sweden_riksdag","proportional","open");break;case "Turkey_national_assembly":PresetLoader.loadPreset("turkey");MapLoader.loadMap("./res/tur/turkey_provinces.svg",16,.5,"turkey_national_assembly","proportional",
"open");break;case "India_lok_sabha":PresetLoader.loadPreset("india");MapLoader.loadMap("./res/ind/india_constituencies.svg",16,.1,"1","takeall_noedit","open");break;case "SouthAfrica_national_assembly":PresetLoader.loadPreset("southafrica");MapLoader.loadMap("./res/zaf/south_africa_provinces.svg",25,.25,"south_africa_national_assembly","proportional","open");break;case "UnitedKingdom_house_of_commons":PresetLoader.loadPreset("uk");MapLoader.loadMap("./res/ukd/unitedkingdom.svg",16,.075,"1","takeall_noedit",
"open");break;case "UnitedKingdom_historic_counties":PresetLoader.loadPreset("uk");MapLoader.loadMap("./res/ukd/unitedkingdom_historic_counties.svg",16,.4,"1","takeall","open");break;case "Ukraine":PresetLoader.loadPreset("uk");MapLoader.loadMap("./res/ukr/ukraine.svg",16,.1,"1","takeall_noedit","open");break;case "Ireland_dail_eireann":PresetLoader.loadPreset("ireland");MapLoader.loadMap("./res/irl/ireland_constituencies_2020.svg",16,.075,"ireland_constituencies","proportional","open");break;case "Canada_provinces":PresetLoader.loadPreset("canada");
MapLoader.loadMap("./res/can/canada_states.svg",38,2,"1","takeall","open");break;case "Canada_house_of_commons":PresetLoader.loadPreset("canada");MapLoader.loadMap("./res/can/canada_constituencies.svg",16,.1,"1","takeall_noedit","open");break;case "Australia_house_of_representatives":PresetLoader.loadPreset("australia");MapLoader.loadMap("./res/aus/australia_constituencies.svg",16,.1,"1","takeall_noedit","open");break;case "Australia_states":PresetLoader.loadPreset("australia");MapLoader.loadMap("./res/aus/australia.svg",
16,.075,"1","takeall","open");break;case "Brazil_chamber_of_deputies":PresetLoader.loadPreset("brazil");MapLoader.loadMap("./res/bra/brazil_states.svg",16,50,"brazil_deputies","proportional","open");break;case "Brazil_federal_senate":PresetLoader.loadPreset("brazil");MapLoader.loadMap("./res/bra/brazil_states.svg",16,50,"3","proportional","open");break;case "Russia_federal_council":PresetLoader.loadPreset("russia");MapLoader.loadMap("./res/rus/russia_federal_subjects.svg",16,.25,"2","proportional",
"open");break;case "Russia_duma":PresetLoader.loadPreset("russia");MapLoader.loadMap("./res/rus/russia_constituencies.svg",16,.15,"duma","takeall_noedit","open");break;case "Trinidad_Tobago_house_of_representatives":PresetLoader.loadPreset("trinidad_tobago");MapLoader.loadMap("./res/tto/trinidad_tobago_house_of_representatives.svg",16,.25,"1","takeall_noedit","open");break;case "Switzerland_national_council":PresetLoader.loadPreset("switzerland");MapLoader.loadMap("./res/che/switzerland_cantons.svg",
16,.25,"switzerland_national_council","proportional","open");break;case "Switzerland_council_of_states":PresetLoader.loadPreset("switzerland");MapLoader.loadMap("./res/che/switzerland_cantons.svg",16,.25,"switzerland_council_of_states","proportional","open");break;case "EuropeanUnion":PresetLoader.loadPreset("eu");MapLoader.loadMap("./res/eu/eu.svg",16,.25,"eu_parliament","proportional","open");break;case "World":PresetLoader.loadPreset("classic");MapLoader.loadMap("./res/other/world.svg",38,.25,
"1","takeall","open");break;default:PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa_presidential.svg",16,1,"usa_ec","takeall","open")}};
MapLoader.loadMap=function(a,b,c,d,e,f,g){if(MapLoader.save_filename===a&&MapLoader.save_dataid===d&&MapLoader.save_type===e&&MapLoader.save_year===f&&MapLoader.save_fontsize===b&&MapLoader.save_strokewidth===c){if(g&&g.onLoad)g.onLoad();if(!g||!g.clear||!0!==g.clear)return}setMode("paint");if("open"!==f){var h=document.getElementById("modebutton-ec");h&&(h.style.display="none");if(h=document.getElementById("modebutton-delete"))h.style.display="none"}if("takeall_noedit"===e){if(h=document.getElementById("modebutton-ec"))h.style.display=
"none";setMode("fill")}if("takeall_noedit"===e||"takeall"===e||"senatorial"===e||"gubernatorial"===e){if(h=document.getElementById("modebutton-paint"))h.style.display="none";setMode("fill")}MapLoader.save_filename=a;MapLoader.save_dataid=d;MapLoader.save_type=e;MapLoader.save_year=f;MapLoader.save_fontsize=b;MapLoader.save_strokewidth=c;g&&(enableCongress=g.enableCongress,verifyCongress());var k=document.getElementById("map-div");k.style.visibility="hidden";totalVotes=0;strokeMultiplier=c;var l="./data/"+
e+"_"+f;console.log("Loading "+a);fetch(a).then(function(n){return n.text()}).then(function(n){document.getElementById("map-div").innerHTML=n;console.log("Done loading "+a);MapLoader.onLoadSVG();!0===mobile?InputManager.enableInputMobile():!1===mobile&&InputManager.enableInputDesktop();MapManager.centerMap();onResize();n=document.getElementById("text");null!==n&&(n.style.fontSize=""+b+"px");MapLoader.initData(d);countVotes();ChartManager.updateChart();LegendManager.updateLegend();setCongressOnHover();
setPalette(CookieManager.cookies.theme);n=function(){if(g&&g.onLoad)g.onLoad();showShortcuts();var p=document.getElementById("application-loading");setTimeout(function(){p.style.display="none"},200)};"senatorial"===e&&"open"!==f?MapLoader.loadSenateFile(l,n):"gubernatorial"===e&&"open"!==f?MapLoader.loadGubernatorialFile(l,n):(k.style.visibility="visible",n())})};MapLoader.onLoadSVG=function(){ifInIframe()};
MapLoader.loadGubernatorialFile=function(a,b){CandidateManager.initCandidates();var c={};fetch(a).then(function(d){return d.text()}).then(function(d){console.log("Done loading "+a);var e="candidate";d=d.split("\n");""===d[d.length-1]&&d.pop();for(var f=0;f<d.length;++f){var g=d[f].trim();if("candidate"===e)if("!"===g)e="disable";else{var h=g.split(" ");c[h[0]]=h[1];g=new Candidate(h[1],[h[2],h[3],h[4],h[5]]);CandidateManager.candidates[h[1]]=g}else if("disable"===e){h=g.split(" ");var k=states.find(function(l){return l.name===
h[0]});g=c[h[1]];"o"===h[1]?k.setColor("Tossup",2):(k.setColor(g,0),k.toggleLock())}}countVotes();ChartManager.updateChart();LegendManager.updateLegend();document.getElementById("map-div").style.visibility="visible";b()})};
MapLoader.loadSenateFile=function(a,b){CandidateManager.initCandidates();var c={};fetch(a).then(function(d){return d.text()}).then(function(d){console.log("FETCH SEN");console.log("Done loading "+a);var e="candidate";d=d.split("\n");""===d[d.length-1]&&d.pop();for(var f=0;f<d.length;++f){var g=d[f].trim();if("candidate"===e)if("!"===g)e="disable";else{var h=g.split(" ");c[h[0]]=h[1];g=new Candidate(h[1],[h[2],h[3],h[4],h[5]]);CandidateManager.candidates[h[1]]=g}else if("disable"===e){h=g.split(" ");
g=states.find(function(l){return l.name===h[0]});var k=states.find(function(l){return l.name===h[0]+"-S"});"o"===h[1]?g.setColor("Tossup",2):(g.setColor(c[h[1]],0),g.toggleLock());"o"===h[2]?k.setColor("Tossup",2):(k.setColor(c[h[2]],0),k.toggleLock())}}countVotes();ChartManager.updateChart();LegendManager.updateLegend();document.getElementById("map-div").style.visibility="visible";b()})};
MapLoader.loadSavedMap=function(a,b){obj=a;enableCongress=b?b.enableCongress:!1;MapLoader.loadMap(obj.filename,obj.fontsize,obj.strokewidth,obj.dataid,obj.type,obj.year,{enableCongress:enableCongress,onLoad:function(){for(var c in obj.candidates)if("Tossup"!==c){var d=obj.candidates[c];CandidateManager.addCandidate(c,d.solid,d.likely,d.lean,d.tilt)}c={};for(var e in obj.states){c.$jscomp$loop$prop$stateName$12=e;d=obj.states[c.$jscomp$loop$prop$stateName$12];var f=states.filter(function(m){return function(r){return r.name===
m.$jscomp$loop$prop$stateName$12}}(c))[0],g=0,h="Tossup",k=0;for(p in d.delegates){var l=d.delegates[p];g+=l;l>k?(h=p,k=l):l===k&&(h="Tossup")}f.setVoteCount(g);"Tossup"===h?f.setColor(h,2):f.setColor(h,d.colorvalue);d.candidate?(f.setColor(d.candidate,d.colorvalue),"proportional"===obj.type&&(f.delegates=d.delegates)):f.delegates=d.delegates;f.simulator=d.simulator;d.disabled&&f.toggleDisable();c={$jscomp$loop$prop$stateName$12:c.$jscomp$loop$prop$stateName$12}}e={};for(var n in obj.proportional){e.$jscomp$loop$prop$stateName$2$14=
n;var p=obj.proportional[e.$jscomp$loop$prop$stateName$2$14];c=proportionalStates.filter(function(m){return function(r){return r.name===m.$jscomp$loop$prop$stateName$2$14}}(e))[0];d=0;f="Tossup";g=0;for(var q in p.delegates)h=p.delegates[q],d+=h,h>g?(f=q,g=h):h===g&&(f="Tossup");c.setVoteCount(d);"Tossup"===f?c.setColor(f,2):c.setColor(f,p.colorvalue);c.simulator=p.simulator;c.delegates=p.delegates;p.disabled&&c.toggleDisable();e={$jscomp$loop$prop$stateName$2$14:e.$jscomp$loop$prop$stateName$2$14}}countVotes();
ChartManager.updateChart();LegendManager.updateLegend();document.getElementById("map-div").style.visibility="visible"}})};MapLoader.loadFileMap=function(){var a=document.getElementById("loadfile").files[0],b=new FileReader;b.onload=function(c){MapLoader.loadSavedMap(JSON.parse(c.target.result));closeAllPopups()};b.readAsText(a,"UTF-8")};
MapLoader.initData=function(a){states=[];buttons=[];lands=[];for(var b=document.getElementById("outlines").children,c=0,d=b.length;c<d;++c){var e=b[c];e.setAttribute("style","inherit");e.setAttribute("cursor","pointer");var f=e.getAttribute("id");null===f||f.includes("*lines*")||f.includes("*ignore*")||f.includes("_ignore_")||f.includes("othertext")||"text"===f||(f.includes("-button")?(e.onclick=function(){buttonClick(this)},e.setAttribute("onmouseover","if(KeyboardManager.keyStates[70]){buttonClick(this, {setSolid: true});}"),
buttons.push(e)):f.includes("-land")?(e.onclick=function(){landClick(this)},e.setAttribute("onmouseover","if(KeyboardManager.keyStates[70]){landClick(this, {setSolid: true});}"),lands.push(e)):(e.onclick=function(){stateClick(this)},states.push(new State(f,e,a)),e.setAttribute("onmouseover","if(KeyboardManager.keyStates[70]){stateClick(this, {setSolid: true});}")))}if(c=document.getElementById("proportional"))for(b=c.children,c=0,d=b.length;c<d;++c)e=b[c],e.setAttribute("cursor","pointer"),e.setAttribute("style",
"inherit"),f=e.getAttribute("id"),f=new State(f,e,a),proportionalStates.push(f),e.onclick=function(){var g=proportionalStates.length-1;return function(){stateClickPaint(proportionalStates[g],{forceProportional:!0})}}()};MapLoader.clearMap=function(){MapLoader.loadMap(MapLoader.save_filename,MapLoader.save_fontsize,MapLoader.save_strokewidth,MapLoader.save_dataid,MapLoader.save_type,MapLoader.save_year,{clear:!0});MapManager.setLockMap(!1)};
MapLoader.clearMapCandidates=function(){for(var a=0;a<states.length;++a){var b=states[a];b.setColor("Tossup",2);b.resetDelegates()}for(a=0;a<proportionalStates.length;++a)b=proportionalStates[a],b.setColor("Tossup",2),b.resetDelegates()};MapLoader.save_filename="";MapLoader.save_dataid="";MapLoader.save_type="";MapLoader.save_year="";MapLoader.save_fontsize="";MapLoader.save_strokewidth="";var PresetLoader=function(){};
PresetLoader.loadPreset=function(a){CandidateManager.initCandidates();switch(a){case "classic":PresetLoader.loadPresetClassic();break;case "republican primary":PresetLoader.loadPresetRepublicanPrimary();break;case "democratic primary":PresetLoader.loadPresetDemocraticPrimary();break;case "argentina":PresetLoader.loadPresetArgentina();break;case "france":PresetLoader.loadPresetFrance();break;case "germany":PresetLoader.loadPresetGermany();break;case "southafrica":PresetLoader.loadPresetSouthAfrica();
break;case "india":PresetLoader.loadPresetIndia();break;case "italy":PresetLoader.loadPresetItaly();break;case "uk":PresetLoader.loadPresetUK();break;case "canada":PresetLoader.loadPresetCanada();break;case "australia":PresetLoader.loadPresetAustralia();break;case "spain":PresetLoader.loadPresetSpain();break;case "turkey":PresetLoader.loadPresetTurkey();break;case "trinidad_tobago":PresetLoader.loadPresetTrinidadTobago();break;case "netherlands":PresetLoader.loadPresetNetherlands();break;case "brazil":PresetLoader.loadPresetBrazil();
break;case "ireland":PresetLoader.loadPresetIreland();break;case "russia":PresetLoader.loadPresetRussia();break;case "switzerland":PresetLoader.loadPresetSwitzerland();break;case "sweden":PresetLoader.loadPresetSweden();break;case "portugal":PresetLoader.loadPresetPortugal();break;case "pakistan":PresetLoader.loadPresetPakistan();case "eu":PresetLoader.loadPresetEU()}ChartManager.updateChart();ChartManager.chart.generateLegend();LegendManager.updateLegend()};
PresetLoader.loadPresetClassic=function(){var a=new Candidate("Republican",["#bf1d29","#ff5865","#ff8b98","#cf8980"]),b=new Candidate("Democrat",["#1c408c","#577ccc","#8aafff","#949bb3"]);CandidateManager.candidates.Republican=a;CandidateManager.candidates.Democrat=b};
PresetLoader.loadPresetRepublicanPrimary=function(){var a=new Candidate("Trump",["#bf1d29","#bf1d29","#bf1d29","#bf1d29"]),b=new Candidate("Weld",["#e6b700","#e6b700","#e6b700","#e6b700"]),c=new Candidate("Walsh",["#1c408c","#1c408c","#1c408c","#1c408c"]);CandidateManager.candidates.Trump=a;CandidateManager.candidates.Weld=b;CandidateManager.candidates.Walsh=c};
PresetLoader.loadPresetDemocraticPrimary=function(){var a=new Candidate("Biden",["#009900","#009900","#009900","#009900"]),b=new Candidate("Sanders",["#457FFF","#457FFF","#457FFF","#457FFF"]),c=new Candidate("Warren",["#996600","#996600","#996600","#996600"]),d=new Candidate("Gabbard",["#FF0074","#FF0074","#FF0074","#FF0074"]),e=new Candidate("Buttigieg",["#990099","#990099","#990099","#990099"]),f=new Candidate("Bloomberg",["#ff9900","#ff9900","#ff9900","#ff9900"]),g=new Candidate("Klobuchar",["#000000",
"#000000","#000000","#000000"]);CandidateManager.candidates.Biden=a;CandidateManager.candidates.Sanders=b;CandidateManager.candidates.Warren=c;CandidateManager.candidates.Bloomberg=f;CandidateManager.candidates.Buttigieg=e;CandidateManager.candidates.Klobuchar=g;CandidateManager.candidates.Gabbard=d};
PresetLoader.loadPresetFrance=function(){var a=new Candidate("RN",["#004A77","#004A77","#004A77","#004A77"]),b=new Candidate("LREM",["#FFD600","#FFD600","#FFD600","#FFD600"]),c=new Candidate("E\u00c9LV",["#7AB41D","#7AB41D","#7AB41D","#7AB41D"]),d=new Candidate("LR",["#0066CC","#0066CC","#0066CC","#0066CC"]),e=new Candidate("LFI",["#C9462C","#C9462C","#C9462C","#C9462C"]),f=new Candidate("PS",["#ED1651","#ED1651","#ED1651","#ED1651"]);CandidateManager.candidates.RN=a;CandidateManager.candidates.LREM=
b;CandidateManager.candidates["E\u00c9LV"]=c;CandidateManager.candidates.LR=d;CandidateManager.candidates.LFI=e;CandidateManager.candidates.PS=f;LegendManager.toggleLegendLeans()};
PresetLoader.loadPresetGermany=function(){var a=new Candidate("CDU/CSU",["#000000","#000000","#000000","#000000"]),b=new Candidate("SPD",["#F0001C","#F0001C","#F0001C","#F0001C"]),c=new Candidate("GR\u00dcNE",["#46962B","#46962B","#46962B","#46962B"]),d=new Candidate("AfD",["#009EE0","#009EE0","#009EE0","#009EE0"]),e=new Candidate("FDP",["#dec200","#dec200","#dec200","#dec200"]),f=new Candidate("LINKE",["#BE3075","#BE3075","#BE3075","#BE3075"]);CandidateManager.candidates["CDU/CSU"]=a;CandidateManager.candidates.SPD=
b;CandidateManager.candidates["GR\u00dcNE"]=c;CandidateManager.candidates.AfD=d;CandidateManager.candidates.FDP=e;CandidateManager.candidates.LINKE=f;LegendManager.toggleLegendLeans()};
PresetLoader.loadPresetItaly=function(){var a=new Candidate("Lega",["#008F21","#008F21","#008F21","#008F21"]),b=new Candidate("PD",["#FF3643","#FF3643","#FF3643","#FF3643"]),c=new Candidate("M5S",["#FFEB3B","#FFEB3B","#FFEB3B","#FFEB3B"]),d=new Candidate("FI",["#318CE7","#318CE7","#318CE7","#318CE7"]),e=new Candidate("FdI",["#003397","#003397","#003397","#003397"]),f=new Candidate("+Eu",["#FFD700","#FFD700","#FFD700","#FFD700"]);CandidateManager.candidates.Lega=a;CandidateManager.candidates.PD=b;
CandidateManager.candidates.M5S=c;CandidateManager.candidates.FI=d;CandidateManager.candidates.FdI=e;CandidateManager.candidates["+EU"]=f;LegendManager.toggleLegendLeans()};
PresetLoader.loadPresetUK=function(){var a=new Candidate("CON",["#0087DC","#0087DC","#0087DC","#0087DC"]),b=new Candidate("LAB",["#DC241f","#DC241f","#DC241f","#DC241f"]),c=new Candidate("LDM",["#FDBB30","#FDBB30","#FDBB30","#FDBB30"]),d=new Candidate("SNP",["#cccc00","#cccc00","#cccc00","#cccc00"]),e=new Candidate("GRN",["#6AB023","#6AB023","#6AB023","#6AB023"]),f=new Candidate("DUP",["#D46A4C","#D46A4C","#D46A4C","#D46A4C"]),g=new Candidate("SF",["#008800","#008800","#008800","#008800"]),h=new Candidate("PC",
["#008142","#008142","#008142","#008142"]),k=new Candidate("SDLP",["#579c85","#579c85","#579c85","#579c85"]),l=new Candidate("ALL",["#EFCD53","#EFCD53","#EFCD53","#EFCD53"]),n=new Candidate("Ind",["#aaaaaa","#aaaaaa","#aaaaaa","#aaaaaa"]);CandidateManager.candidates.CON=a;CandidateManager.candidates.LAB=b;CandidateManager.candidates.LDM=c;CandidateManager.candidates.SNP=d;CandidateManager.candidates.GRN=e;CandidateManager.candidates.DUP=f;CandidateManager.candidates.SF=g;CandidateManager.candidates.PC=
h;CandidateManager.candidates.SDLP=k;CandidateManager.candidates.ALL=l;CandidateManager.candidates.Ind=n;LegendManager.toggleLegendLeans()};
PresetLoader.loadPresetCanada=function(){var a=new Candidate("CON",["#6495ED","#6495ED","#6495ED","#6495ED"]),b=new Candidate("LIB",["#F08080","#F08080","#F08080","#F08080"]),c=new Candidate("NDP",["#F4A460","#F4A460","#F4A460","#F4A460"]),d=new Candidate("GRN",["#9ACD32","#9ACD32","#9ACD32","#9ACD32"]),e=new Candidate("BQC",["#87CEFA","#87CEFA","#87CEFA","#87CEFA"]),f=new Candidate("PPC",["#83789E","#83789E","#83789E","#83789E"]);CandidateManager.candidates.CON=a;CandidateManager.candidates.LIB=
b;CandidateManager.candidates.NDP=c;CandidateManager.candidates.GRN=d;CandidateManager.candidates.BQC=e;CandidateManager.candidates.PPC=f;LegendManager.toggleLegendLeans()};
PresetLoader.loadPresetArgentina=function(){var a=new Candidate("Let's Change",["#ccae0b","#ccae0b","#ccae0b","#ccae0b"]),b=new Candidate("FPV",["#75aadb","#75aadb","#75aadb","#75aadb"]),c=new Candidate("Federal",["#19bc9d","#19bc9d","#19bc9d","#19bc9d"]),d=new Candidate("UNA",["#0a1172","#0a1172","#0a1172","#0a1172"]),e=new Candidate("RxA",["#00677f","#00677f","#00677f","#00677f"]),f=new Candidate("FCpS",["#ff0080","#ff0080","#ff0080","#ff0080"]),g=new Candidate("Unity",["#00774f","#00774f","#00774f",
"#00774f"]),h=new Candidate("Evolution",["#ff0000","#ff0000","#ff0000","#ff0000"]),k=new Candidate("FIT",["#800000","#800000","#800000","#800000"]),l=new Candidate("Catamarca",["#ff69b4","#ff69b4","#ff69b4","#ff69b4"]),n=new Candidate("Other",["#999999","#999999","#999999","#999999"]);CandidateManager.candidates["Let's Change"]=a;CandidateManager.candidates.FPV=b;CandidateManager.candidates.Federal=c;CandidateManager.candidates.UNA=d;CandidateManager.candidates.RxA=e;CandidateManager.candidates.FCpS=
f;CandidateManager.candidates.Unity=g;CandidateManager.candidates.Evolution=h;CandidateManager.candidates.FIT=k;CandidateManager.candidates.Catamarca=l;CandidateManager.candidates.Other=n;LegendManager.toggleLegendLeans()};
PresetLoader.loadPresetAustralia=function(){var a=new Candidate("LIB",["#0047AB","#0047AB","#0047AB","#0047AB"]),b=new Candidate("LNP",["#063C7C","#063C7C","#063C7C","#063C7C"]),c=new Candidate("NAT",["#006644","#006644","#006644","#006644"]),d=new Candidate("CLP",["#F8981D","#F8981D","#F8981D","#F8981D"]),e=new Candidate("IND",["#C0C0C0","#C0C0C0","#C0C0C0","#C0C0C0"]),f=new Candidate("CEN",["#ff6300","#ff6300","#ff6300","#ff6300"]),g=new Candidate("GRN",["#39B54A","#39B54A","#39B54A","#39B54A"]),
h=new Candidate("LAB",["#DE3533","#DE3533","#DE3533","#DE3533"]);CandidateManager.candidates.LIB=a;CandidateManager.candidates.LNP=b;CandidateManager.candidates.NAT=c;CandidateManager.candidates.CLP=d;CandidateManager.candidates.IND=e;CandidateManager.candidates.CEN=f;CandidateManager.candidates.GRN=g;CandidateManager.candidates.LAB=h;LegendManager.toggleLegendLeans()};
PresetLoader.loadPresetSpain=function(){var a=new Candidate("PSOE",["#EF1C27","#EF1C27","#EF1C27","#EF1C27"]),b=new Candidate("PP",["#1D84CE","#1D84CE","#1D84CE","#1D84CE"]),c=new Candidate("Vox",["#63BE21","#63BE21","#63BE21","#63BE21"]),d=new Candidate("Unidas Podemos",["#7B4977","#7B4977","#7B4977","#7B4977"]),e=new Candidate("Cs",["#EB6109","#EB6109","#EB6109","#EB6109"]),f=new Candidate("ERC-Sobiranistes",["#FFB232","#FFB232","#FFB232","#FFB232"]),g=new Candidate("M\u00e1s Pa\u00eds",["#0FDEC4",
"#0FDEC4","#0FDEC4","#0FDEC4"]),h=new Candidate("JxCat-Junts",["#ED5975","#ED5975","#ED5975","#ED5975"]),k=new Candidate("EAJ/PNV",["#4AAE4A","#4AAE4A","#4AAE4A","#4AAE4A"]),l=new Candidate("EH Bildu",["#B5CF18","#B5CF18","#B5CF18","#B5CF18"]),n=new Candidate("CUP-PR",["#FFED00","#FFED00","#FFED00","#FFED00"]),p=new Candidate("PACMA",["#ADBE18","#ADBE18","#ADBE18","#ADBE18"]),q=new Candidate("CCa-PNC-NC",["#FFD700","#FFD700","#FFD700","#FFD700"]),m=new Candidate("BNG",["#ADCFEF","#ADCFEF","#ADCFEF",
"#ADCFEF"]),r=new Candidate("NA+",["#999999","#999999","#999999","#999999"]),t=new Candidate("PRC",["#C2CE0C","#C2CE0C","#C2CE0C","#C2CE0C"]),u=new Candidate("\u00a1Teruel Existe!",["#037252","#037252","#037252","#037252"]);CandidateManager.candidates.PSOE=a;CandidateManager.candidates.PP=b;CandidateManager.candidates.Vox=c;CandidateManager.candidates["Unidas Podemos"]=d;CandidateManager.candidates.Cs=e;CandidateManager.candidates["ERC-Sobiranistes"]=f;CandidateManager.candidates["JxCat-Junts"]=h;
CandidateManager.candidates["M\u00e1s Pa\u00eds"]=g;CandidateManager.candidates["EAJ/PNV"]=k;CandidateManager.candidates["EH Bildu"]=l;CandidateManager.candidates["CCa-PNC-NC"]=q;CandidateManager.candidates.PRC=t;CandidateManager.candidates["CUP-PR"]=n;CandidateManager.candidates.PACMA=p;CandidateManager.candidates.BNG=m;CandidateManager.candidates["NA+"]=r;CandidateManager.candidates["\u00a1Teruel Existe!"]=u;LegendManager.toggleLegendLeans()};
PresetLoader.loadPresetTurkey=function(){var a=new Candidate("AKP",["#ffcc00","#ffcc00","#ffcc00","#ffcc00"]),b=new Candidate("MHP",["#870000","#870000","#870000","#870000"]),c=new Candidate("BBP",["#cc5252","#cc5252","#cc5252","#cc5252"]),d=new Candidate("CHP",["#e30000","#e30000","#e30000","#e30000"]),e=new Candidate("HDP",["#951b88","#951b88","#951b88","#951b88"]),f=new Candidate("IYI",["#0099cc","#0099cc","#0099cc","#0099cc"]),g=new Candidate("SP",["#ff5f5f","#ff5f5f","#ff5f5f","#ff5f5f"]),h=
new Candidate("TIP",["#990000","#990000","#990000","#990000"]),k=new Candidate("DP",["#ff3333","#ff3333","#ff3333","#ff3333"]),l=new Candidate("Ind",["#b0b0b0","#b0b0b0","#b0b0b0","#b0b0b0"]);CandidateManager.candidates.AKP=a;CandidateManager.candidates.MHP=b;CandidateManager.candidates.BBP=c;CandidateManager.candidates.CHP=d;CandidateManager.candidates.HDP=e;CandidateManager.candidates.IYI=f;CandidateManager.candidates.SP=g;CandidateManager.candidates.TIP=h;CandidateManager.candidates.DP=k;CandidateManager.candidates.Ind=
l;LegendManager.toggleLegendLeans()};PresetLoader.loadPresetTrinidadTobago=function(){var a=new Candidate("PNM",["#ff0000","#ff0000","#ff0000","#ff0000"]),b=new Candidate("UNC",["#e8ac41","#e8ac41","#e8ac41","#e8ac41"]),c=new Candidate("COP",["#000000","#000000","#000000","#000000"]),d=new Candidate("PDP",["#32cd32","#32cd32","#32cd32","#32cd32"]);CandidateManager.candidates.PNM=a;CandidateManager.candidates.UNC=b;CandidateManager.candidates.COP=c;CandidateManager.candidates.PDP=d;LegendManager.toggleLegendLeans()};
PresetLoader.loadPresetNetherlands=function(){var a=new Candidate("FvD",["#841818","#841818","#841818","#841818"]),b=new Candidate("VVD",["#21276A","#21276A","#21276A","#21276A"]),c=new Candidate("CDA",["#007C5E","#007C5E","#007C5E","#007C5E"]),d=new Candidate("GL",["#83BD00","#83BD00","#83BD00","#83BD00"]),e=new Candidate("PvdA",["#E12B1A","#E12B1A","#E12B1A","#E12B1A"]),f=new Candidate("D66",["#00B13D","#00B13D","#00B13D","#00B13D"]),g=new Candidate("PVV",["#21468B","#21468B","#21468B","#21468B"]),
h=new Candidate("SP",["#EE161F","#EE161F","#EE161F","#EE161F"]),k=new Candidate("CU",["#00A7EB","#00A7EB","#00A7EB","#00A7EB"]),l=new Candidate("PvdD",["#006B28","#006B28","#006B28","#006B28"]),n=new Candidate("50+",["#932390","#932390","#932390","#932390"]);new Candidate("SGP",["#E95D0F","#E95D0F","#E95D0F","#E95D0F"]);var p=new Candidate("DENK",["#00A7EB","#00A7EB","#00A7EB","#00A7EB"]);CandidateManager.candidates.FvD=a;CandidateManager.candidates.VVD=b;CandidateManager.candidates.CDA=c;CandidateManager.candidates.GL=
d;CandidateManager.candidates.PvdA=e;CandidateManager.candidates.D66=f;CandidateManager.candidates.PVV=g;CandidateManager.candidates.SP=h;CandidateManager.candidates.CU=k;CandidateManager.candidates.PvdD=l;CandidateManager.candidates["50+"]=n;CandidateManager.candidates.DENK=p;LegendManager.toggleLegendLeans()};
PresetLoader.loadPresetBrazil=function(){var a=new Candidate("PSL",["#203B78","#203B78","#203B78","#203B78"]),b=new Candidate("PP",["#7DC9FF","#7DC9FF","#7DC9FF","#7DC9FF"]),c=new Candidate("PL",["#0F0073","#0F0073","#0F0073","#0F0073"]),d=new Candidate("PSD",["#FFA500","#FFA500","#FFA500","#FFA500"]),e=new Candidate("MDB",["#30914D","#30914D","#30914D","#30914D"]),f=new Candidate("PRB",["#00E6A8","#00E6A8","#00E6A8","#00E6A8"]),g=new Candidate("PSDB",["#0080FF","#0080FF","#0080FF","#0080FF"]);new Candidate("DEM",
["#8CC63E","#8CC63E","#8CC63E","#8CC63E"]);new Candidate("SD",["#FF9C2B","#FF9C2B","#FF9C2B","#FF9C2B"]);new Candidate("PODE",["#2DA933","#2DA933","#2DA933","#2DA933"]);new Candidate("PTB",["#7B7B7B","#7B7B7B","#7B7B7B","#7B7B7B"]);new Candidate("PSC",["#009118","#009118","#009118","#009118"]);new Candidate("NOVO",["#FF4D00","#FF4D00","#FF4D00","#FF4D00"]);new Candidate("PATRI",["#CCAA00","#CCAA00","#CCAA00","#CCAA00"]);CandidateManager.candidates.PSL=a;CandidateManager.candidates.PP=b;CandidateManager.candidates.PL=
c;CandidateManager.candidates.PSD=d;CandidateManager.candidates.MDB=e;CandidateManager.candidates.PRB=f;CandidateManager.candidates.PSDB=g;a=new Candidate("PT",["#CC0000","#CC0000","#CC0000","#CC0000"]);b=new Candidate("PSB",["#FFCC00","#FFCC00","#FFCC00","#FFCC00"]);c=new Candidate("PDT",["#FF0000","#FF0000","#FF0000","#FF0000"]);d=new Candidate("PSOL",["#700000","#700000","#700000","#700000"]);new Candidate("PCdoB",["#A30000","#A30000","#A30000","#A30000"]);new Candidate("CIDADANIA",["#FF9191",
"#FF9191","#FF9191","#FF9191"]);new Candidate("PMN",["#DD3333","#DD3333","#DD3333","#DD3333"]);new Candidate("REDE",["#00C2BB","#00C2BB","#00C2BB","#00C2BB"]);CandidateManager.candidates.PT=a;CandidateManager.candidates.PSB=b;CandidateManager.candidates.PDT=c;CandidateManager.candidates.PSOL=d;a=new Candidate("PROS",["#FF5460","#FF5460","#FF5460","#FF5460"]);b=new Candidate("AVANTE",["#ED5F36","#ED5F36","#ED5F36","#ED5F36"]);CandidateManager.candidates.PROS=a;CandidateManager.candidates.AVANTE=b;
LegendManager.toggleLegendLeans()};
PresetLoader.loadPresetIreland=function(){var a=new Candidate("FG",["#6699FF","#6699FF","#6699FF","#6699FF"]),b=new Candidate("FF",["#66BB66","#66BB66","#66BB66","#66BB66"]),c=new Candidate("SF",["#326760","#326760","#326760","#326760"]),d=new Candidate("Lab",["#CC0000","#CC0000","#CC0000","#CC0000"]),e=new Candidate("S-PBP",["#E5E500","#E5E500","#E5E500","#E5E500"]),f=new Candidate("I4C",["#FFC0CB","#FFC0CB","#FFC0CB","#FFC0CB"]),g=new Candidate("SD",["#752F8B","#752F8B","#752F8B","#752F8B"]),h=
new Candidate("GP",["#99CC33","#99CC33","#99CC33","#99CC33"]),k=new Candidate("Ind",["#CCCCCC","#CCCCCC","#CCCCCC","#CCCCCC"]);CandidateManager.candidates.FG=a;CandidateManager.candidates.FF=b;CandidateManager.candidates.SF=c;CandidateManager.candidates.Lab=d;CandidateManager.candidates["S-PBP"]=e;CandidateManager.candidates.I4C=f;CandidateManager.candidates.SD=g;CandidateManager.candidates.GP=h;CandidateManager.candidates.Ind=k;LegendManager.toggleLegendLeans()};
PresetLoader.loadPresetRussia=function(){var a=new Candidate("ER",["#0C2C84","#0C2C84","#0C2C84","#0C2C84"]),b=new Candidate("LDPR",["#2862B3","#2862B3","#2862B3","#2862B3"]),c=new Candidate("CPRF",["#D70000","#D70000","#D70000","#D70000"]),d=new Candidate("Patriots",["#F6DF3B","#F6DF3B","#F6DF3B","#F6DF3B"]),e=new Candidate("CP",["#FAB512","#FAB512","#FAB512","#FAB512"]),f=new Candidate("Rodina",["#EA484A","#EA484A","#EA484A","#EA484A"]),g=new Candidate("Yabloko",["#00A800","#00A800","#00A800","#00A800"]),
h=new Candidate("Ind",["#CCCCCC","#CCCCCC","#CCCCCC","#CCCCCC"]);CandidateManager.candidates.ER=a;CandidateManager.candidates.LDPR=b;CandidateManager.candidates.CPRF=c;CandidateManager.candidates.Patriots=d;CandidateManager.candidates.CP=e;CandidateManager.candidates.Rodina=f;CandidateManager.candidates.Yabloko=g;CandidateManager.candidates.Ind=h;LegendManager.toggleLegendLeans()};
PresetLoader.loadPresetPortugal=function(){var a=new Candidate("PS",["#ff61ea","#ff61ea","#ff61ea","#ff61ea"]),b=new Candidate("Ind",["#aaaaaa","#aaaaaa","#aaaaaa","#aaaaaa"]),c=new Candidate("BE",["#870909","#870909","#870909","#870909"]),d=new Candidate("PCP",["#ff0000","#ff0000","#ff0000","#ff0000"]),e=new Candidate("PEV",["#008000","#008000","#008000","#008000"]),f=new Candidate("PPD/PSD",["#ff9900","#ff9900","#ff9900","#ff9900"]),g=new Candidate("CDS-PP",["#00daff","#00daff","#00daff","#00daff"]),
h=new Candidate("PAN",["#008080","#008080","#008080","#008080"]);CandidateManager.candidates.PS=a;CandidateManager.candidates.BE=c;CandidateManager.candidates.PCP=d;CandidateManager.candidates.PEV=e;CandidateManager.candidates["PPD/PSD"]=f;CandidateManager.candidates["CDS-PP"]=g;CandidateManager.candidates.PAN=h;CandidateManager.candidates.Ind=b;LegendManager.toggleLegendLeans()};
PresetLoader.loadPresetSouthAfrica=function(){var a=new Candidate("ANC",["#006600","#006600","#006600","#006600"]),b=new Candidate("DA",["#005ba6","#005ba6","#005ba6","#005ba6"]),c=new Candidate("EFF",["#852a2a","#852a2a","#852a2a","#852a2a"]),d=new Candidate("IFP",["#ff0000","#ff0000","#ff0000","#ff0000"]),e=new Candidate("FF+",["#ec8713","#ec8713","#ec8713","#ec8713"]),f=new Candidate("ACDP",["#ba0c2f","#ba0c2f","#ba0c2f","#ba0c2f"]),g=new Candidate("UDM",["#ffde01","#ffde01","#ffde01","#ffde01"]),
h=new Candidate("ATM",["#00adee","#00adee","#00adee","#00adee"]),k=new Candidate("Good",["#f36900","#f36900","#f36900","#f36900"]),l=new Candidate("NFP",["#ff8040","#ff8040","#ff8040","#ff8040"]),n=new Candidate("AIC",["#ffb543","#ffb543","#ffb543","#ffb543"]),p=new Candidate("COPE",["#ffca08","#ffca08","#ffca08","#ffca08"]),q=new Candidate("PAC",["#008718","#008718","#008718","#008718"]),m=new Candidate("ALJ",["#1c9069","#1c9069","#1c9069","#1c9069"]);CandidateManager.candidates.ANC=a;CandidateManager.candidates.DA=
b;CandidateManager.candidates.EFF=c;CandidateManager.candidates.IFP=d;CandidateManager.candidates["FF+"]=e;CandidateManager.candidates.ACDP=f;CandidateManager.candidates.UDM=g;CandidateManager.candidates.ATM=h;CandidateManager.candidates.Good=k;CandidateManager.candidates.NFP=l;CandidateManager.candidates.AIC=n;CandidateManager.candidates.COPE=p;CandidateManager.candidates.PAC=q;CandidateManager.candidates.ALJ=m;LegendManager.toggleLegendLeans()};
PresetLoader.loadPresetIndia=function(){var a=new Candidate("BJP",["#ff9933","#ff9933","#ff9933","#ff9933"]),b=new Candidate("YSRCP",["#1569c7","#1569c7","#1569c7","#1569c7"]),c=new Candidate("SS",["#ff6634","#ff6634","#ff6634","#ff6634"]),d=new Candidate("JD",["#004285","#004285","#004285","#004285"]),e=new Candidate("BJD",["#006400","#006400","#006400","#006400"]),f=new Candidate("BSP",["#0000ff","#0000ff","#0000ff","#0000ff"]),g=new Candidate("TRS",["#ff89ce","#ff89ce","#ff89ce","#ff89ce"]),h=
new Candidate("LJP",["#40ff7e","#40ff7e","#40ff7e","#40ff7e"]),k=new Candidate("INC",["#00bfff","#00bfff","#00bfff","#00bfff"]),l=new Candidate("DMK",["#de1100","#de1100","#de1100","#de1100"]),n=new Candidate("NCP",["#008080","#008080","#008080","#008080"]),p=new Candidate("AITC",["#00f200","#00f200","#00f200","#00f200"]),q=new Candidate("SP",["#a30000","#a30000","#a30000","#a30000"]);CandidateManager.candidates.BJP=a;CandidateManager.candidates.YSRCP=b;CandidateManager.candidates.SS=c;CandidateManager.candidates.JD=
d;CandidateManager.candidates.BJD=e;CandidateManager.candidates.BSP=f;CandidateManager.candidates.TRS=g;CandidateManager.candidates.LJP=h;CandidateManager.candidates.INC=k;CandidateManager.candidates.DMK=l;CandidateManager.candidates.NCP=n;CandidateManager.candidates.AITC=p;CandidateManager.candidates.SP=q;LegendManager.toggleLegendLeans()};
PresetLoader.loadPresetSweden=function(){var a=new Candidate("SAP",["#ed1231","#ed1231","#ed1231","#ed1231"]),b=new Candidate("MP",["#2b912b","#2b912b","#2b912b","#2b912b"]),c=new Candidate("C",["#216c3e","#216c3e","#216c3e","#216c3e"]),d=new Candidate("L",["#006ab5","#006ab5","#006ab5","#006ab5"]),e=new Candidate("V",["#ec121e","#ec121e","#ec121e","#ec121e"]),f=new Candidate("M",["#019cdb","#019cdb","#019cdb","#019cdb"]),g=new Candidate("SD",["#fedf09","#fedf09","#fedf09","#fedf09"]),h=new Candidate("KD",
["#005ea3","#005ea3","#005ea3","#005ea3"]),k=new Candidate("Ind",["#999999","#999999","#999999","#999999"]);CandidateManager.candidates.SAP=a;CandidateManager.candidates.MP=b;CandidateManager.candidates.C=c;CandidateManager.candidates.L=d;CandidateManager.candidates.V=e;CandidateManager.candidates.M=f;CandidateManager.candidates.SD=g;CandidateManager.candidates.KD=h;CandidateManager.candidates.Ind=k;LegendManager.toggleLegendLeans()};
PresetLoader.loadPresetSwitzerland=function(){var a=new Candidate("SVP/UDC",["#088a4b","#088a4b","#088a4b","#088a4b"]),b=new Candidate("FDP/PLR",["#0e52a0","#0e52a0","#0e52a0","#0e52a0"]),c=new Candidate("SDP/PSS",["#FA1360","#FA1360","#FA1360","#FA1360"]),d=new Candidate("GPS/PES",["#01df01","#01df01","#01df01","#01df01"]),e=new Candidate("CVP/PDC",["#ef7d00","#ef7d00","#ef7d00","#ef7d00"]),f=new Candidate("GLP/PVL",["#a6cf42","#a6cf42","#a6cf42","#a6cf42"]),g=new Candidate("BDP/PBD",["#000000",
"#000000","#000000","#000000"]),h=new Candidate("EVP/PEV",["#ffd735","#ffd735","#ffd735","#ffd735"]),k=new Candidate("LdT",["#6495ed","#6495ed","#6495ed","#6495ed"]),l=new Candidate("PdA/PST",["#FF0000","#FF0000","#FF0000","#FF0000"]),n=new Candidate("SolS",["#ababab","#ababab","#ababab","#ababab"]),p=new Candidate("EDU/UDF",["#9b2a58","#9b2a58","#9b2a58","#9b2a58"]);CandidateManager.candidates["SVP/UDC"]=a;CandidateManager.candidates["FDP/PLR"]=b;CandidateManager.candidates["SP/PS"]=c;CandidateManager.candidates["GPS/PES"]=
d;CandidateManager.candidates["CVP/PDC"]=e;CandidateManager.candidates["GLP/PVL"]=f;CandidateManager.candidates["BDP/PBD"]=g;CandidateManager.candidates["EVP/PEV"]=h;CandidateManager.candidates["PdA/PST"]=l;CandidateManager.candidates.SolS=n;CandidateManager.candidates["EDU/UDF"]=p;CandidateManager.candidates.LdT=k;LegendManager.toggleLegendLeans()};
PresetLoader.loadPresetPakistan=function(){var a=new Candidate("PTI",["#ff0f0f","#ff0f0f","#ff0f0f","#ff0f0f"]),b=new Candidate("MQM-P",["#8f0303","#8f0303","#8f0303","#8f0303"]),c=new Candidate("PML-Q",["#00800d","#00800d","#00800d","#00800d"]),d=new Candidate("BAP",["#9eee58","#9eee58","#9eee58","#9eee58"]),e=new Candidate("GDA",["#769c1e","#769c1e","#769c1e","#769c1e"]),f=new Candidate("AML",["#4aee31","#4aee31","#4aee31","#4aee31"]),g=new Candidate("JWP",["#d984e3","#d984e3","#d984e3","#d984e3"]),
h=new Candidate("BNP-M",["#eee600","#eee600","#eee600","#eee600"]),k=new Candidate("PML-N",["#228000","#228000","#228000","#228000"]),l=new Candidate("PPP",["#000000","#000000","#000000","#000000"]),n=new Candidate("MMA",["#004c00","#004c00","#004c00","#004c00"]),p=new Candidate("ANP",["#ff0800","#ff0800","#ff0800","#ff0800"]),q=new Candidate("Ind",["#afafaf","#afafaf","#afafaf","#afafaf"]);CandidateManager.candidates.PTI=a;CandidateManager.candidates["MQM-P"]=b;CandidateManager.candidates["PML-Q"]=
c;CandidateManager.candidates.BAP=d;CandidateManager.candidates.GDA=e;CandidateManager.candidates.AML=f;CandidateManager.candidates.JWP=g;CandidateManager.candidates["BNP-M"]=h;CandidateManager.candidates["PML-N"]=k;CandidateManager.candidates.PPP=l;CandidateManager.candidates.MMA=n;CandidateManager.candidates.ANP=p;CandidateManager.candidates.Ind=q;LegendManager.toggleLegendLeans()};
PresetLoader.loadPresetEU=function(){var a=new Candidate("EPP",["#3399FF","#3399FF","#3399FF","#3399FF"]),b=new Candidate("PES",["#F0001C","#F0001C","#F0001C","#F0001C"]),c=new Candidate("ALDE",["#FFD700","#FFD700","#FFD700","#FFD700"]),d=new Candidate("EGP",["#99CC33","#99CC33","#99CC33","#99CC33"]),e=new Candidate("ECRP",["#0054A5","#0054A5","#0054A5","#0054A5"]),f=new Candidate("IDP",["#26428B","#26428B","#26428B","#26428B"]),g=new Candidate("PEL",["#800000","#800000","#800000","#800000"]),h=new Candidate("EFA",
["#662287","#662287","#662287","#662287"]),k=new Candidate("EDP",["#EE9900","#EE9900","#EE9900","#EE9900"]),l=new Candidate("ECPM",["#0BAE2C","#0BAE2C","#0BAE2C","#0BAE2C"]),n=new Candidate("NI",["#C0C0C0","#C0C0C0","#C0C0C0","#C0C0C0"]);CandidateManager.candidates.EPP=a;CandidateManager.candidates.PES=b;CandidateManager.candidates.ALDE=c;CandidateManager.candidates.EGP=d;CandidateManager.candidates.ECRP=e;CandidateManager.candidates.IDP=f;CandidateManager.candidates.PEL=g;CandidateManager.candidates.EFA=
h;CandidateManager.candidates.EDP=k;CandidateManager.candidates.ECPM=l;CandidateManager.candidates.NI=n;LegendManager.toggleLegendLeans()};var totalVotes=0,stateCount=0,State=function(a,b,c){this.name=a;this.fakename="District "+ ++stateCount;this.colorValue=2;this.htmlElement=b;this.candidate="Tossup";this.dataid=c;this.voteCount_beforeDisable=this.voteCount=0;this.resetVoteCount();this.locked=this.disabled=!1;this.onChange=function(){}};
State.prototype.resetVoteCount=function(){if(parseInt(this.dataid)){var a=parseInt(this.dataid);this.setVoteCount(a);this.voteCount_beforeDisable=a}else"duma"===this.dataid?"Russia"===this.name?(this.setVoteCount(225),this.voteCount_beforeDisable=225):(this.setVoteCount(1),this.voteCount_beforeDisable=1):"congressional"===this.dataid||"usa_gubernatorial"===this.dataid||"gubernatorial"===this.dataid?(this.setVoteCount(1),this.voteCount_beforeDisable=1):"senate"===this.dataid?(this.setVoteCount(2),
this.voteCount_beforeDisable=2):(this.setVoteCount(GlobalData[this.dataid][this.name]),this.voteCount_beforeDisable=GlobalData[this.dataid][this.name])};State.prototype.resetDelegates=function(){!0!==this.disabled&&(this.delegates={},this.delegates.Tossup=this.voteCount,this.setColor("Tossup",2,{setDelegates:!1}))};
State.prototype.setDelegates=function(a,b){this.delegates[a]=b;b="Tossup";var c=0,d=2;for(a in this.delegates){var e=this.delegates[a];e>c?"Tossup"!==a&&(b=a,c=e,d=0):e===c&&(b="Tossup",d=2)}this.setColor(b,d,{setDelegates:!1})};
State.prototype.setVoteCount=function(a){var b=a-this.voteCount;this.voteCount=a;this.delegates={};this.setDelegates("Tossup",a);"proportional"===MapLoader.save_type&&(this.candidate="Tossup",this.setColor("Tossup",2));totalVotes+=b;b=document.getElementById(this.name+"-text");null===b||"usa_ec"!==MapLoader.save_dataid&&"usa_1972_ec"!==MapLoader.save_dataid&&"usa_no_districts_ec"!==MapLoader.save_dataid&&"usa_pre_civilwar_ec"!==MapLoader.save_dataid&&"usa_territories_ec"!==MapLoader.save_dataid&&
"usa_2024_ec"!==MapLoader.save_dataid||("undefined"!==typeof b.childNodes[1]?b.childNodes[1].innerHTML=" "+a:b.childNodes[0].innerHTML=this.name+" "+a)};State.prototype.getHtml=function(){return this.htmlElement};State.prototype.getDisplayColor=function(){return this.htmlElement.style.fill};
State.prototype.setDisplayColor=function(a){this.htmlElement.style.fill=a;var b=document.getElementById(this.name+"-button");null!==b&&(b.style.fill=a);b=document.getElementById(this.name+"-land");null!==b&&(b.style.fill=a)};State.prototype.verifyTossupColor=function(){"Tossup"===this.candidate&&this.setDisplayColor(CandidateManager.TOSSUP.colors[2])};
State.prototype.toggleLock=function(){if(0==this.locked){this.disabled=!0;this.locked=!this.locked;this.name.includes("-S")&&(this.htmlElement.style.visibility="hidden");this.setDisplayColor(CandidateManager.TOSSUP.colors[2]);this.htmlElement.setAttribute("fill-opacity","0.2");this.htmlElement.setAttribute("stroke-opacity","0.2");var a=document.getElementById(this.name+"-text");null!==a&&a.setAttribute("fill-opacity","0.2");a=document.getElementById(this.name+"-land");null!==a&&(a.setAttribute("fill-opacity",
"0.2"),a.setAttribute("stroke-opacity","0.2"));a=document.getElementById(this.name+"-button");null!==a&&(a.setAttribute("fill-opacity","0.2"),a.setAttribute("stroke-opacity","0.2"))}else 1==this.locked&&(this.disabled=!1,this.locked=!this.locked,this.setColor(this.candidate,this.colorValue),this.htmlElement.setAttribute("fill-opacity","1.0"),this.htmlElement.setAttribute("stroke-opacity","1.0"),this.name.includes("-S")&&(this.htmlElement.style.visibility="visible"),a=document.getElementById(this.name+
"-text"),null!==a&&a.setAttribute("fill-opacity","1.0"),a=document.getElementById(this.name+"-land"),null!=a&&(a.setAttribute("fill-opacity","1.0"),a.setAttribute("stroke-opacity","1.0")),a=document.getElementById(this.name+"-button"),null!==a&&(a.setAttribute("fill-opacity","1.0"),a.setAttribute("stroke-opacity","1.0")))};
State.prototype.toggleDisable=function(){if(1!=this.locked)if(0==this.disabled){this.setVoteCount(0);this.setColor("Tossup",2);this.disabled=!this.disabled;this.htmlElement.setAttribute("fill-opacity","0.25");this.htmlElement.setAttribute("stroke-opacity","0.25");this.name.includes("-S");if("senatorial"!==MapLoader.save_type){var a=document.getElementById(this.name+"-text");null!==a&&a.setAttribute("fill-opacity","0.25")}a=document.getElementById(this.name+"-land");null!==a&&(a.setAttribute("fill-opacity",
"0.25"),a.setAttribute("stroke-opacity","0.25"));a=document.getElementById(this.name+"-button");null!==a&&(a.setAttribute("fill-opacity","0.25"),a.setAttribute("stroke-opacity","0.25"));"senatorial"!==MapLoader.save_type&&(a=document.getElementById(this.name.split("-")[0]+"-text"),null!==a&&a.setAttribute("fill-opacity","0.25"))}else 1==this.disabled&&(this.resetVoteCount(),this.setVoteCount(this.voteCount),this.disabled=!this.disabled,this.setColor(this.candidate,this.colorValue),this.htmlElement.setAttribute("fill-opacity",
"1.0"),this.htmlElement.setAttribute("stroke-opacity","1.0"),this.name.includes("-S")&&(this.htmlElement.style.visibility="visible"),a=document.getElementById(this.name+"-text"),null!==a&&a.setAttribute("fill-opacity","1.0"),a=document.getElementById(this.name+"-land"),null!=a&&(a.setAttribute("fill-opacity","1.0"),a.setAttribute("stroke-opacity","1.0")),a=document.getElementById(this.name+"-button"),null!==a&&(a.setAttribute("fill-opacity","1.0"),a.setAttribute("stroke-opacity","1.0")),a=document.getElementById(this.name.split("-")[0]+
"-text"),null!==a&&a.setAttribute("fill-opacity","1.0"))};
State.prototype.incrementCandidateColor=function(a,b){b=void 0===b?{setDelegates:!0}:b;if(!this.disabled&&(this.colorValue=this.candidate!==a?0:this.colorValue+1,b.setDelegates&&(this.delegates={},this.delegates.Tossup=0,this.delegates[a]=this.voteCount),"Tossup"===this.candidate?3<=this.colorValue&&(this.colorValue=0):(this.colorValue>=maxColorValues&&(this.colorValue=0),CandidateManager.candidates[a].singleColor&&(this.colorValue=0)),this.candidate=a,"Tossup"===this.candidate&&(this.colorValue=
CandidateManager.tossupColor),a=CandidateManager.TOSSUP.colors[CandidateManager.tossupColor],this.candidate in CandidateManager.candidates&&void 0!==CandidateManager.candidates[this.candidate].colors&&null!==CandidateManager.candidates[this.candidate].colors&&(a=CandidateManager.candidates[this.candidate].colors[this.colorValue],this.htmlElement.style.fill=a),b=document.getElementById(this.name+"-land"),null!=b&&(b.style.fill=a),b=document.getElementById(this.name+"-button"),null!=b&&(b.style.fill=
a),this.onChange))this.onChange()};State.prototype.highlight=function(){this.disabled||(this.highlight=!this.highlight,this.htmlElement.style.stroke="#ffff00",""===this.htmlElement.style.strokeWidth&&(this.htmlElement.style.strokeWidth="1px"),this.htmlElement.style.strokeWidth=new String(3*parseInt(this.htmlElement.style.strokeWidth.slice(0,-2)))+"px")};
State.prototype.setColor=function(a,b,c){c=void 0===c?{setDelegates:!0}:c;if(!this.disabled&&(this.candidate=a,"Tossup"===a&&0==b&&(b=2),c.setDelegates&&(this.delegates={},this.delegates.Tossup=0,this.delegates[a]=this.voteCount),this.colorValue=b,c=null,CandidateManager.candidates[a]&&(c=CandidateManager.candidates[a].colors[b]),c&&(this.htmlElement.style.fill=c,this.htmlElement.setAttribute("fill","url(#"+this.name+"_pattern)"),a=document.getElementById(this.name+"-land"),null!=a&&(a.style.fill=
c,a.setAttribute("fill","url(#"+this.name+"_pattern)")),a=document.getElementById(this.name+"-button"),null!=a&&(a.style.fill=c,a.setAttribute("fill","url(#"+this.name+"_pattern)"))),this.onChange))this.onChange()};
State.prototype.test_setColor=function(a){console.log("TEST SET COLOR");a=document.getElementById("svgdata").firstChild;var b=a.querySelector("#defs");null===b&&(b=document.createElementNS("http://www.w3.org/2000/svg","defs"),b.setAttribute("id","defs"),a.insertBefore(b,a.firstChild));a=a.querySelector("#"+this.name+"_pattern");null===a&&(a=document.createElementNS("http://www.w3.org/2000/svg","pattern"),a.setAttribute("id",this.name+"_pattern"),a.setAttribute("width","30"),a.setAttribute("height",
"30"),a.setAttribute("patternUnits","userSpaceOnUse"),a.setAttribute("patternTransform","rotate(-35)"),b.appendChild(a));for(;a.firstChild;)a.removeChild(a.lastChild);b=Object.keys(this.delegates);for(var c=b.length,d=0,e=0;e<c;++e){var f=CandidateManager.candidates[b[e]].name;this.delegates[b[e]]&&"Tossup"!==f&&(d+=1)}var g=0;for(e=0;e<c;++e){var h=CandidateManager.candidates[b[e]].colors[0];f=CandidateManager.candidates[b[e]].name;var k=this.delegates[b[e]];if(this.delegates[b[e]]&&"Tossup"!==f){var l=
document.createElementNS("http://www.w3.org/2000/svg","rect");console.log(h);l.setAttribute("class",f);l.setAttribute("fill",h);l.setAttribute("width",(k/this.voteCount*30).toString());l.setAttribute("height","100%");l.setAttribute("x",g.toString());g+=30/d;l.setAttribute("y","0");a.appendChild(l)}}this.htmlElement.removeAttribute("style")};
State.setEC=function(){closeAllPopups();for(var a=document.getElementById("state-id").value,b=document.getElementById("state-ec").value,c=0,d=states.length;c<d;++c){var e=states[c];if(e.name===a){e.setVoteCount(parseInt(b));break}}countVotes();ChartManager.updateChart();LegendManager.updateLegend()};
function updateBattleChart(){if(3<Object.keys(CandidateManager.candidates).length)mobile?ChartManager.setChart("pie","bottom"):ChartManager.setChart("pie");else{var a=document.getElementById("tossupbar"),b=document.getElementById("topbar"),c=document.getElementById("topbar-solid"),d=document.getElementById("topbar-likely"),e=document.getElementById("topbar-lean"),f=document.getElementById("topbar-tilt"),g=document.getElementById("bottombar"),h=document.getElementById("bottombar-solid"),k=document.getElementById("bottombar-likely"),
l=document.getElementById("bottombar-lean"),n=document.getElementById("bottombar-tilt");b.style.flexBasis="";g.style.flexBasis="";var p=-1,q;for(q in CandidateManager.candidates){++p;var m=CandidateManager.candidates[q];0==p?(a.style.background=m.colors[2],a.style.flexBasis=""+m.voteCount/totalVotes*100+"%",a.innerHTML=ChartManager.chartLabels?"<p>"+m.voteCount+"</p>":"<p></p>"):1==p?(b.style.flexBasis=""+m.voteCount/totalVotes*100+"%",ChartManager.chartLeans?(c.style.flexBasis=""+m.probVoteCounts[0]/
m.voteCount*100+"%",c.style.background=m.colors[0],d.style.flexBasis=""+m.probVoteCounts[1]/m.voteCount*100+"%",d.style.background=m.colors[1],e.style.flexBasis=""+m.probVoteCounts[2]/m.voteCount*100+"%",e.style.background=m.colors[2],f.style.flexBasis=""+m.probVoteCounts[3]/m.voteCount*100+"%",f.style.background=m.colors[3],ChartManager.chartLabels?(c.innerHTML="<p>"+m.probVoteCounts[0]+"</p>",d.innerHTML="<p>"+m.probVoteCounts[1]+"</p>",e.innerHTML="<p>"+m.probVoteCounts[2]+"</p>",f.innerHTML="<p>"+
m.probVoteCounts[3]+"</p>"):(c.innerHTML="<p></p>",d.innerHTML="<p></p>",e.innerHTML="<p></p>",f.innerHTML="<p></p>")):(c.style.flexBasis="100%",c.style.background=m.colors[0],d.style.flexBasis="0%",d.style.background=m.colors[1],e.style.flexBasis="0%",e.style.background=m.colors[2],f.style.flexBasis="0%",f.style.background=m.colors[3],c.innerHTML=ChartManager.chartLabels?"<p>"+(m.probVoteCounts[0]+m.probVoteCounts[1]+m.probVoteCounts[2]+m.probVoteCounts[3])+"</p>":"<p></p>",d.innerHTML="<p></p>",
e.innerHTML="<p></p>",f.innerHTML="<p></p>")):2==p&&(g.style.flexBasis=""+m.voteCount/totalVotes*100+"%",ChartManager.chartLeans?(h.style.flexBasis=""+m.probVoteCounts[0]/m.voteCount*100+"%",h.style.background=m.colors[0],k.style.flexBasis=""+m.probVoteCounts[1]/m.voteCount*100+"%",k.style.background=m.colors[1],l.style.flexBasis=""+m.probVoteCounts[2]/m.voteCount*100+"%",l.style.background=m.colors[2],n.style.flexBasis=""+m.probVoteCounts[3]/m.voteCount*100+"%",n.style.background=m.colors[3],ChartManager.chartLabels?
(h.innerHTML="<p>"+m.probVoteCounts[0]+"</p>",k.innerHTML="<p>"+m.probVoteCounts[1]+"</p>",l.innerHTML="<p>"+m.probVoteCounts[2]+"</p>",n.innerHTML="<p>"+m.probVoteCounts[3]+"</p>"):(h.innerHTML="<p></p>",k.innerHTML="<p></p>",l.innerHTML="<p></p>",n.innerHTML="<p></p>")):(h.style.flexBasis="100%",h.style.background=m.colors[0],k.style.flexBasis="0%",k.style.background=m.colors[1],l.style.flexBasis="0%",l.style.background=m.colors[2],n.style.flexBasis="0%",n.style.background=m.colors[3],h.innerHTML=
ChartManager.chartLabels?"<p>"+(m.probVoteCounts[0]+m.probVoteCounts[1]+m.probVoteCounts[2]+m.probVoteCounts[3])+"</p>":"<p></p>",k.innerHTML="<p></p>",l.innerHTML="<p></p>",n.innerHTML="<p></p>"))}}}
function buttonClick(a){if(!1!==php_candidate_edit){var b=a.getAttribute("id").split("-")[0];a=states.find(function(c){return c.name===b});"paint"===mode||"fill"===mode?stateClickPaint(a):"ec"===mode?stateClickEC(a):"delete"===mode?stateClickDelete(a):"highlight"===mode&&stateClickHighlight(a);countVotes();ChartManager.updateChart();LegendManager.updateLegend()}}
function landClick(a){if(!1!==php_candidate_edit&&"move"!==mode){var b=KeyboardManager.quickFill(),c=a.getAttribute("id").split("-")[0],d,e=[];states.forEach(function(f,g){f.name.includes(c)&&(e.push(f),f.name.includes("AL")&&(d=f))});"paint"===mode||"fill"===mode?(Simulator.view(d),b?d.setColor(paintIndex,0):d.incrementCandidateColor(paintIndex),e.forEach(function(f){f.setColor(d.candidate,d.colorValue)})):"delete"===mode&&e.forEach(function(f){f.toggleDisable()});countVotes();ChartManager.updateChart();
LegendManager.updateLegend()}}function stateClick(a){if(!1!==php_candidate_edit){var b=a.getAttribute("id");a=states.find(function(c){return c.name===b});switch(mode){case "paint":case "fill":Simulator.view(a);!1===Simulator.ignoreClick&&stateClickPaint(a);break;case "ec":stateClickEC(a);break;case "delete":stateClickDelete(a);break;case "highlight":stateClickHighlight(a)}countVotes();ChartManager.updateChart();LegendManager.updateLegend()}}var tooltipTimeout=null;
function stateClickPaint(a,b){b=void 0===b?{forceProportional:!1}:b;if(!a.disabled)if(b.forceProportional)displayProportionalEdit(a);else if("proportional"!==MapLoader.save_type)KeyboardManager.quickFill()?a.setColor(paintIndex,0):KeyboardManager.areaSelect()?paintEntireState(a):a.incrementCandidateColor(paintIndex);else{if("proportional"===MapLoader.save_type){if(KeyboardManager.quickFill()){a.setColor(paintIndex,0);return}if("fill"===mode){a.incrementCandidateColor(paintIndex);return}}displayProportionalEdit(a)}}
function stateClickHighlight(a){a.disabled||a.highlight()}
function paintEntireState(a){if("./res/usa/house/12-2-2019-house.svg"===MapLoader.save_filename||"./res/usa/county/usa_county.svg"===MapLoader.save_filename)for(var b=a.name.substr(0,2),c=0,d=states.length;c<d;++c){var e=states[c],f="";"./res/usa/house/12-2-2019-house.svg"===MapLoader.save_filename?(b=a.name.substr(0,2),f=e.name.substr(0,2)):"./res/usa/county/usa_county.svg"===MapLoader.save_filename&&(b=a.name.substr(-2),f=e.name.substr(-2));f===b&&e.setColor(paintIndex,0)}}
function stateClickDelete(a){KeyboardManager.areaSelect()?deleteEntireState(a):a.toggleDisable()}
function deleteEntireState(a){if("./res/usa/house/12-2-2019-house.svg"===MapLoader.save_filename||"./res/usa/county/usa_county.svg"===MapLoader.save_filename)for(var b=!a.disabled,c=a.name.substr(0,2),d=0,e=states.length;d<e;++d){var f=states[d],g="";"./res/usa/house/12-2-2019-house.svg"===MapLoader.save_filename?(c=a.name.substr(0,2),g=f.name.substr(0,2)):"./res/usa/county/usa_county.svg"===MapLoader.save_filename&&(c=a.name.substr(-2),g=f.name.substr(-2));g===c&&(b&&!1===f.disabled?f.toggleDisable():
b||!0!==f.disabled||f.toggleDisable())}}function stateClickEC(a){if(!1===a.disabled){var b=document.getElementById("ecedit"),c=document.getElementById("ecedit-message"),d=document.getElementById("state-ec"),e=document.getElementById("state-id");c.innerHTML="Set "+a.name+" delegates";d.value=a.voteCount;e.value=a.name;b.style.display="inline"}}
function specialClick(a,b){var c=a.getAttribute("id");a=states.find(function(d){return d.name===c});if("paint"===mode||"fill"===mode)a.incrementCandidateColor(paintIndex),countVotes(),ChartManager.updateChart(),LegendManager.updateLegend()}function legendClick(a,b){paintIndex=a;LegendManager.selectCandidateDisplay(b)}
function displayProportionalEdit(a){LogoManager.loadButtons();closeAllPopups();document.getElementById("demdel").style.display="flex";document.getElementById("demdel-message").innerHTML="SU"!==a.name?a.name+"<br><small>"+a.voteCount+" delegates</small>":"Super<br><small>"+a.voteCount+" delegates</small>";document.getElementById("demdel-state-name").value=a.name;for(var b=document.getElementById("demdel-ranges");b.firstChild;)b.removeChild(b.firstChild);var c=a.voteCount,d=0,e=document.createElement("DIV");
e.setAttribute("id","display-Tossup");for(var f in CandidateManager.candidates)if("Tossup"!==f){var g=document.createElement("INPUT");g.setAttribute("id","range-"+f);g.setAttribute("type","range");g.setAttribute("max",c);void 0===a.delegates[f]&&(a.delegates[f]=0);g.value=a.delegates[f];d+=a.delegates[f];var h=document.createElement("DIV");h.setAttribute("id","display-"+f);h.innerHTML=f+" - "+g.value+" - "+(a.delegates[f]/c*100).toFixed(2)+"%";g.oninput=function(){var k=f,l=h,n=parseInt(g.value);
return function(p){d-=n;d+=parseInt(this.value);d>c&&(p=d-c,d-=p,this.value-=p);n=parseInt(this.value);e.innerHTML="Tossup - "+(c-d)+" - "+((c-d)/c*100).toFixed(2)+"%";l.innerHTML=k+" - "+this.value+" - "+(this.value/c*100).toFixed(2)+"%";a.setDelegates("Tossup",c-d);a.setDelegates(k,parseInt(this.value));countVotes();ChartManager.updateChart();LegendManager.updateLegend()}}();b.appendChild(h);b.appendChild(g)}e.innerHTML="Tossup - "+(c-d)+" - "+((c-d)/c*100).toFixed(2)+"%";b.appendChild(e)}
function verifyCongress(){if(mobile)return!1;var a=document.getElementById("sidebar-congress");if(enableCongress)return a.style.display="block",!0;a.style.display="none";return!1}function verifyCongressContested(){if(mobile)return!1;var a=document.getElementById("sidebar-congress-contested");if(enableCongressContested)return a.style.display="block",!0;a.style.display="none";return!1}
function setCongressContested(){if(!1!==verifyCongressContested()){var a=document.getElementById("sidebar-congress-contested");db_getCongress(function(b){for(var c=0,d=states.length;c<d;++c){var e=states[c],f=e.name.split("-")[0],g=e.name.split("-")[1],h=g;"AL"===h&&(h="0");h=parseInt(h).toString();var k=b.filter(function(p){return p.State===f&&p.District===h})[0];if(0!==e.colorValue){g=document.createElement("div");g.setAttribute("class","sidebar-box");var l=document.createElement("h3");l.innerHTML=
e.name;g.appendChild(l);l=document.createElement("div");l.innerHTML=k.Representative+" - "+k.Party;g.appendChild(l);k=document.createElement("div");k.setAttribute("class","sidebar-congress-colors");l=document.createElement("div");l.innerHTML="<span>Projection</span>";l.setAttribute("class","sidebar-congress-color");l.style.backgroundColor=e.htmlElement.style.fill;k.appendChild(l);var n=document.createElement("div");n.innerHTML="<span>Map</span>";n.setAttribute("class","sidebar-congress-color");n.style.backgroundColor=
e.htmlElement.style.fill;n.style.cursor="pointer";e.onChange=function(){var p=n,q=e;return function(){p.style.backgroundColor=q.htmlElement.style.fill}}();n.onclick=function(){var p=e,q=n;return function(){p.incrementCandidateColor(paintIndex,!1);q.style.backgroundColor=p.htmlElement.style.fill}}();k.appendChild(n);g.appendChild(k);a.appendChild(g)}}})}}
function setCongressOnHover(){!1!==verifyCongress()&&db_getCongress(function(a){for(var b=0,c=states.length;b<c;++b){var d=states[b];d.htmlElement.onmouseover=function(){var e=d.name.split("-")[0],f=d.name.split("-")[1],g=f;"AL"===g&&(g="0");g=parseInt(g).toString();var h=a.filter(function(k){return k.State===e&&k.District===g})[0];return function(){var k=document.getElementById("sidebar-congress-district");k.innerHTML=e+"-"+f;k=document.getElementById("sidebar-congress-representative");k.innerHTML=
h.Representative;k=document.getElementById("sidebar-congress-party");k.innerHTML=h.Party;KeyboardManager.keyStates[70]&&stateClick(this,{setSolid:!0})}}()}})}function db_getCongress(a){fetch("req_congress.php").then(function(b){return b.json()}).then(function(b){a(b)})}
var GlobalData={argentina_chamber_of_deputies:{"Buenos Aires":70,"Buenos Aires City":25,Catamarca:5,Chaco:7,Chubut:5,"C\u00f3rdoba":18,Corrientes:7,"Entre R\u00edos":9,Formosa:5,Jujuy:6,"La Pampa":5,"La Rioja":5,Mendoza:10,Misiones:7,"Neuqu\u00e9n":5,"R\u00edo Negro":5,Salta:7,"San Juan":6,"San Luis":5,"Santa Cruz":5,"Santa Fe":19,"Santiago del Estero":7,"Tierra del Fuego":5,"Tucum\u00e1n":9},turkey_national_assembly:{Adana:15,"Ad\u0131yaman":5,Afyonkarahisar:6,"A\u011fr\u0131":4,Aksaray:4,Amasya:3,
Ankara:36,Antalya:16,Ardahan:2,Artvin:2,"Ayd\u0131n":8,"Bal\u0131kesir":9,"Bart\u0131n":2,Batman:5,Bayburt:1,Bilecik:2,"Bing\u00f6l":3,Bitlis:3,Bolu:3,Burdur:3,Bursa:20,"\u00c7anakkale":4,"\u00c7ank\u0131r\u0131":2,"\u00c7orum":4,Denizli:8,"Diyarbak\u0131r":12,"D\u00fczce":3,Edirne:4,"Elaz\u0131\u011f":5,Erzincan:2,Erzurum:6,"Eski\u015fehir":7,Gaziantep:14,Giresun:4,"G\u00fcm\u00fc\u015fhane":2,"Hakk\u00e2ri":3,Hatay:11,"I\u011fd\u0131r":2,Isparta:4,"\u0130stanbul":98,"\u0130zmir":28,"Kahramanmara\u015f":8,
Kars:3,Kastamonu:3,"Karab\u00fck":3,Karaman:3,Kayseri:10,Kilis:2,"K\u0131rklareli":3,"K\u0131r\u0131kkale":3,"K\u0131r\u015fehir":2,Kocaeli:13,Konya:15,"K\u00fctahya":5,Malatya:6,Manisa:10,Mardin:6,Mersin:13,"Mu\u011fla":7,"Mu\u015f":4,"Nev\u015fehir":3,"Ni\u011fde":3,Ordu:6,Osmaniye:4,Rize:3,Sakarya:7,Samsun:9,Siirt:3,Sinop:2,Sivas:5,"\u015eanl\u0131urfa":14,"\u015e\u0131rnak":4,"Tekirda\u011f":7,Tokat:5,Trabzon:6,Tunceli:2,"U\u015fak":3,Van:8,Yalova:3,Yozgat:4,Zonguldak:5},south_africa_national_assembly:{"Eastern Cape":25,
"Western Cape":23,"Northern Cape":5,Gauteng:48,KwaZulu:41,Limpopo:19,Mpumalanga:15,"Free State":11,"North West Cape":13,"South Africa":200},portugal_constituencies:{Lisbon:47,Porto:39,Braga:19,"Set\u00fabal":18,Aveiro:16,Leiria:10,Coimbra:9,Faro:9,"Santar\u00e9m":9,Viseu:9,Madeira:6,"Viana do Castelo":6,Azores:5,"Vila Real":5,Guarda:4,"Castelo Branco":4,Beja:3,"Bragan\u00e7a":3,"\u00c9vora":3,Portalegre:2,Europe:2,"Outside Europe":2},ireland_constituencies:{Donegal:5,"Sligo-Leitrim":4,Mayo:4,"Galway West":5,
Clare:4,Kerry:5,"Cork South-West":3,"Cork North-West":3,"Limerick County":3,"Limerick City":4,"Cork South-Central":4,"Cork North-Central":4,"Cork East":4,Waterford:4,Tipperary:5,"Carlow-Kilkenny":5,Wexford:5,Wicklow:5,"Kildare North":4,"Kildare South":4,"Laois-Offaly":5,"Galway East":3,"Roscommon-Galway":3,"Longford-Westmeath":4,"Meath West":3,"Meath East":3,Louth:5,"Cavan-Monaghan":5,"Dublin Fingal":5,"Dublin West":4,"Dublin North-West":3,"Dublin Bay North":5,"Dublin Mid-West":4,"Dublin South-Central":4,
"Dublin Central":4,"Dublin Bay South":4,"Dublin South-West":5,"Dublin Rathdown":3,"D\u00fan Laoghaire":4},brazil_deputies:{"S\u00e3o Paulo":70,"Minas Gerais":53,"Rio de Janeiro":46,Bahia:39,"Rio Grande do Sul":31,"Paran\u00e1":30,Pernambuco:25,"Cear\u00e1":22,"Maranh\u00e3o":18,"Goi\u00e1s":17,"Par\u00e1":17,"Santa Catarina":16,"Para\u00edba":12,"Esp\u00edrito Santo":10,"Piau\u00ed":10,Alagoas:9,Acre:8,Amazonas:8,"Amap\u00e1":8,"Distrito Federal do Brasil":8,"Mato Grosso do Sul":8,"Mato Grosso":8,
"Rio Grande do Norte":8,"Rond\u00f4nia":8,Roraima:8,Sergipe:8,Tocantins:8},netherlands_provinces:{Groningen:43,Friesland:43,Drenthe:41,Overijssel:47,Flevoland:41,Gelderland:55,Utrecht:49,"Noord-Holland":55,"Zuid-Holland":55,Zeeland:39,"Noord-Brabant":55,Limburg:47},spain_constituencies:{"La Coru\u00f1a":8,Pontevedra:7,Lugo:4,Orense:4,Asturias:7,"Le\u00f3n":4,Zamora:3,Salamanca:4,"C\u00e1ceres":4,Badajoz:6,Huelva:5,Seville:12,"C\u00e1diz":9,Cordoba:6,"M\u00e1laga":11,Granada:7,Almeria:6,Jaen:5,Murcia:10,
Alicante:12,Albacete:4,"Ciudad Real":5,Toledo:6,Cuenca:3,Valencia:15,"Castell\u00f3n":5,Teruel:3,Guadalajara:3,Madrid:37,Avila:3,Segovia:3,Valladolid:5,Palencia:3,Burgos:4,Soria:2,Zaragoza:7,Tarragona:6,Barcelona:32,Girona:6,Lreida:4,Huesca:3,Navarre:5,"La Rioja":4,"\u00c1lava":4,Guipuzcoa:6,Biscay:8,Cantabria:5,Ceuta:1,Melilla:1,"Santa Cruz de Tenerife":7,"Las Palmas":8,"Balearic Islands":8},switzerland_national_council:{Aargau:16,"Appenzell Outer Rhodes":1,"Appenzell Inner Rhodes":1,"Basel-Landschaft":7,
"Basel-Stadt":5,Bern:24,Fribourg:7,Geneva:12,Glarus:1,"Graub\u00fcnden":5,Jura:2,Lucerne:9,"Neuch\u00e2tel":4,Nidwalden:1,Obwalden:1,"St. Gallen":12,Schaffhausen:2,Schwyz:4,Solothurn:6,Thurgau:6,Ticino:8,Uri:1,Vaud:19,Valais:8,Zurich:35,Zug:3},switzerland_council_of_states:{Aargau:2,"Appenzell Outer Rhodes":1,"Appenzell Inner Rhodes":1,"Basel-Landschaft":1,"Basel-Stadt":1,Bern:2,Fribourg:2,Geneva:2,Glarus:2,"Graub\u00fcnden":2,Jura:2,Lucerne:2,"Neuch\u00e2tel":2,Nidwalden:1,Obwalden:1,"St. Gallen":2,
Schaffhausen:2,Schwyz:2,Solothurn:2,Thurgau:2,Ticino:2,Uri:2,Vaud:2,Valais:2,Zurich:2,Zug:2},sweden_riksdag:{Sweden:39,"Stockholms kommun":29,Stockholm:39,Uppsala:11,"S\u00f6dermanland":9,"\u00d6sterg\u00f6tland":14,"J\u00f6nk\u00f6ping":11,Kronoberg:6,Kalmar:8,Gotland:2,Blekinge:5,"Malm\u00f6 kommun":10,"Sk\u00e5ne l\u00e4ns v\u00e4stra":9,"Sk\u00e5ne l\u00e4ns s\u00f6dra":12,"Sk\u00e5ne l\u00e4ns norra och \u00f6stra":10,"V\u00e4rmland":9,"\u00d6rebro":9,"V\u00e4stmanland":8,Dalarna:9,"G\u00e4vleborg":9,
"V\u00e4sternorrland":8,"J\u00e4mtland":4,"V\u00e4sterbotten":9,Norrbotten:8,Halland:10,"G\u00f6teborgs kommun":17,"V\u00e4stra G\u00f6talands l\u00e4ns norra":8,"V\u00e4stra G\u00f6talands l\u00e4ns \u00f6stra":9,"V\u00e4stra G\u00f6talands l\u00e4ns v\u00e4stra":11,"V\u00e4stra G\u00f6talands l\u00e4ns s\u00f6dra":7},usa_territories_ec:{AL:9,AK:3,AZ:11,AR:6,CA:55,CO:9,CT:7,DE:3,FL:29,GA:16,HI:4,ID:4,IL:20,IN:11,IA:6,KS:6,KY:8,LA:8,ME:4,"ME-AL":2,"ME-D1":1,"ME-D2":1,MD:10,MA:11,MI:16,MN:10,MS:6,
MO:10,MT:3,NE:5,"NE-AL":2,"NE-D1":1,"NE-D2":1,"NE-D3":1,NV:6,NH:4,NJ:14,NM:5,NY:29,NC:15,ND:3,OH:18,OK:7,OR:7,PA:20,RI:4,SC:9,SD:3,TN:11,TX:38,UT:6,VT:3,VA:13,WA:12,WV:5,WI:10,WY:3,DC:3,AS:3,GU:3,MP:3,PR:7,VI:3},usa_ec:{AL:9,AK:3,AZ:11,AR:6,CA:55,CO:9,CT:7,DE:3,FL:29,GA:16,HI:4,ID:4,IL:20,IN:11,IA:6,KS:6,KY:8,LA:8,ME:4,"ME-AL":2,"ME-D1":1,"ME-D2":1,MD:10,MA:11,MI:16,MN:10,MS:6,MO:10,MT:3,NE:5,"NE-AL":2,"NE-D1":1,"NE-D2":1,"NE-D3":1,NV:6,NH:4,NJ:14,NM:5,NY:29,NC:15,ND:3,OH:18,OK:7,OR:7,PA:20,RI:4,
SC:9,SD:3,TN:11,TX:38,UT:6,VT:3,VA:13,WA:12,WV:5,WI:10,WY:3,DC:3},usa_2024_ec:{AL:8,AK:3,AZ:12,AR:6,CA:54,CO:10,CT:7,DE:3,FL:31,GA:16,HI:4,ID:4,IL:19,IN:11,IA:6,KS:6,KY:8,LA:8,ME:4,"ME-AL":2,"ME-D1":1,"ME-D2":1,MD:10,MA:11,MI:15,MN:9,MS:6,MO:10,MT:4,NE:5,"NE-AL":2,"NE-D1":1,"NE-D2":1,"NE-D3":1,NV:6,NH:4,NJ:14,NM:5,NY:28,NC:16,ND:3,OH:17,OK:7,OR:8,PA:19,RI:3,SC:9,SD:3,TN:11,TX:41,UT:6,VT:3,VA:13,WA:12,WV:4,WI:10,WY:3,DC:3},usa_1972_ec:{AL:9,AK:3,AZ:6,AR:6,CA:45,CO:7,CT:8,DE:3,FL:17,GA:12,HI:4,ID:4,
IL:26,IN:13,IA:8,KS:7,KY:9,LA:10,ME:4,"ME-AL":2,"ME-D1":1,"ME-D2":1,MD:10,MA:14,MI:21,MN:10,MS:7,MO:12,MT:4,NE:5,NV:3,NH:4,NJ:17,NM:4,NY:41,NC:13,ND:3,OH:25,OK:8,OR:6,PA:27,RI:4,SC:8,SD:4,TN:10,TX:26,UT:4,VT:3,VA:11,WA:9,WV:6,WI:11,WY:3,DC:3},usa_pre_civilwar_ec:{AL:9,AK:0,AZ:0,AR:4,CA:4,CO:0,CT:6,DE:3,FL:3,GA:10,HI:0,ID:0,IL:11,IN:13,IA:4,KS:0,KY:12,LA:6,ME:8,MD:8,MA:13,MI:6,MN:4,MS:7,MO:9,MT:0,NE:0,NV:0,NH:5,NJ:7,NM:0,NY:35,NC:10,ND:0,OH:23,OK:0,OR:3,PA:27,RI:4,SC:8,SD:0,TN:12,TX:4,UT:0,VT:5,VA:15,
WA:0,WI:5,WY:0,DC:0},usa_no_districts_ec:{AL:9,AK:3,AZ:11,AR:6,CA:55,CO:9,CT:7,DE:3,FL:29,GA:16,HI:4,ID:4,IL:20,IN:11,IA:6,KS:6,KY:8,LA:8,ME:4,MD:10,MA:11,MI:16,MN:10,MS:6,MO:10,MT:3,NE:5,NV:6,NH:4,NJ:14,NM:5,NY:29,NC:15,ND:3,OH:18,OK:7,OR:7,PA:20,RI:4,SC:9,SD:3,TN:11,TX:38,UT:6,VT:3,VA:13,WA:12,WV:5,WI:10,WY:3,DC:3},lte_ec:{NE:11,SE:9,MW:8,WE:6,SW:5,OV:7},dem_primary:{AL:52,AK:15,AS:6,AZ:67,AR:31,CA:415,CO:67,CT:60,DE:21,DA:13,DC:20,FL:219,GA:105,GU:7,HI:24,ID:20,IL:155,IN:82,IA:41,KS:39,KY:54,LA:54,
ME:24,MD:96,MA:91,MI:125,MN:75,MS:36,MO:68,MT:19,NE:29,NV:36,NH:24,NJ:126,NM:34,NY:274,NC:110,ND:14,NI:6,OH:136,OK:37,OR:61,PA:186,PR:51,RI:26,SC:54,SD:16,SU:771,TN:64,TX:228,UT:29,VT:16,VI:7,VA:99,WA:89,WV:28,WI:84,WY:14},rep_primary:{AL:50,AK:28,AS:9,AZ:57,AR:40,CA:172,CO:37,CT:28,DE:16,DC:19,FL:122,GA:76,GU:9,HI:19,ID:32,IL:67,IN:70,IA:40,KS:39,KY:46,LA:46,ME:22,MD:38,MA:41,MI:73,MN:39,MS:39,MO:54,MT:27,NE:36,NV:25,NH:22,NJ:49,NM:22,NY:95,NC:71,ND:29,NI:9,OH:82,OK:43,OR:28,PA:88,PR:23,RI:19,SC:50,
SD:29,TN:58,TX:155,UT:40,VT:17,VI:9,VA:49,WA:44,WV:34,WI:52,WY:29},eu_parliament:{"IE-S":5,"IE-N":4,"IE-D":4,"BE-D":12,"BE-F":8,"BE-G":1,FR:79,ES:59,PT:21,IT:76,MT:6,CY:6,GR:21,BG:17,RO:33,HR:12,HU:21,SL:8,AT:19,SK:14,CZ:21,PO:52,LI:11,LV:8,EE:7,FI:14,SE:21,DK:14,NL:29,LU:6,DE:96},to_short_hand:{Alabama:"AL",Alaska:"AK",Arizona:"AZ",Arkansas:"AR",California:"CA",Colorado:"CO",Connecticut:"CT",Delaware:"DE",Florida:"FL",Georgia:"GA",Hawaii:"HI",Idaho:"ID",Illinois:"IL",Indiana:"IN",Iowa:"IA",Kansas:"KS",
Kentucky:"KY",Louisiana:"LA",Maine:"ME",Maryland:"MD",Massachusetts:"MA",Michigan:"MI",Minnesota:"MN",Mississippi:"MS",Missouri:"MO",Montana:"MT",Nebraska:"NE",Nevada:"NV","New Hampshire":"NH","New Jersey":"NJ","New Mexico":"NM","New York":"NY","North Carolina":"NC","North Dakota":"ND",Ohio:"OH",Oklahoma:"OK",Oregon:"OR",Pennsylvania:"PA","Rhode Island":"RI","South Carolina":"SC","South Dakota":"SD",Tennessee:"TN",Texas:"TX",Utah:"UT",Vermont:"VT",Virginia:"VA",Washington:"WA","West Virginia":"WV",
Wisconsin:"WI",Wyoming:"WY"}},SimulatorData=function(){};
SimulatorData.USA_2020_Cook={AK:{Republican:100,Democrat:0},AL:{Republican:100,Democrat:0},AR:{Republican:100,Democrat:0},AZ:{Republican:50,Democrat:50},CA:{Republican:0,Democrat:100},CO:{Republican:20,Democrat:80},CT:{Republican:0,Democrat:100},DE:{Republican:0,Democrat:100},FL:{Republican:50,Democrat:50},GA:{Republican:70,Democrat:30},HI:{Republican:0,Democrat:100},IA:{Republican:70,Democrat:30},ID:{Republican:100,Democrat:0},IL:{Republican:0,Democrat:100},IN:{Republican:100,Democrat:0},KS:{Republican:100,
Democrat:0},KY:{Republican:100,Democrat:0},LA:{Republican:100,Democrat:0},"ME-AL":{Republican:30,Democrat:70},"ME-D1":{Republican:0,Democrat:100},"ME-D2":{Republican:70,Democrat:20},MI:{Republican:50,Democrat:50},MD:{Republican:0,Democrat:100},MA:{Republican:0,Democrat:100},MN:{Republican:30,Democrat:70},MS:{Republican:100,Democrat:0},MO:{Republican:100,Democrat:0},MT:{Republican:100,Democrat:0},"NE-AL":{Republican:100,Democrat:0},"NE-D1":{Republican:100,Democrat:0},"NE-D2":{Republican:70,Democrat:30},
"NE-D3":{Republican:100,Democrat:0},NV:{Republican:30,Democrat:70},NH:{Republican:30,Democrat:70},NJ:{Republican:0,Democrat:100},NM:{Republican:0,Democrat:100},NY:{Republican:0,Democrat:100},NC:{Republican:70,Democrat:30},ND:{Republican:100,Democrat:0},OH:{Republican:80,Democrat:20},OK:{Republican:100,Democrat:0},OR:{Republican:0,Democrat:100},PA:{Republican:50,Democrat:50},RI:{Republican:0,Democrat:100},SC:{Republican:100,Democrat:0},SD:{Republican:100,Democrat:0},TN:{Republican:100,Democrat:0},
TX:{Republican:80,Democrat:20},UT:{Republican:100,Democrat:0},VT:{Republican:0,Democrat:100},VA:{Republican:20,Democrat:80},WA:{Republican:0,Democrat:100},WI:{Republican:50,Democrat:50},WV:{Republican:100,Democrat:0},WY:{Republican:100,Democrat:0},DC:{Republican:0,Democrat:100}};document.getElementById("yapnews")&&document.getElementById("yapnews").addEventListener("transitionend",function(){MapManager.centerMap()});
function enableFullscreen(){var a=document.documentElement;rfs=a.requestFullScreen||a.webkitRequestFullScreen||a.mozRequestFullScreen||a.msRequestFullScreen;"undefined"!==typeof rfs&&rfs.call(a)}
function displayCandidateEditMenu(a){LogoManager.loadFlags();LogoManager.loadButtons();closeAllPopups();document.getElementById("candidateedit").style.display="flex";document.getElementById("candidate-name").value=a;document.getElementById("candidate-solid").value=CandidateManager.candidates[a].colors[0];document.getElementById("candidate-likely").value=CandidateManager.candidates[a].colors[1];document.getElementById("candidate-lean").value=CandidateManager.candidates[a].colors[2];document.getElementById("candidate-tilt").value=
CandidateManager.candidates[a].colors[3];var b=document.getElementById("candidate-originalName");document.getElementById("candidateedit-message").innerHTML="Edit "+a;b.value=a}function displayUpdateServiceWorker(){document.getElementById("notification-update-serviceworker").style.display="inline"}
function displayNotification(a,b){LogoManager.loadFlags();LogoManager.loadButtons();var c=document.getElementById("notification"),d=c.querySelector("#notification-message"),e=c.querySelector("#notification-title");c.style.display="inline";d.innerHTML=b;e.innerHTML=a}function displayAddCandidateMenu(a){LogoManager.loadFlags();LogoManager.loadButtons();closeAllPopups();CookieManager.loadCustomColors();document.getElementById("addcandidatemenu").style.display="flex"}
function closeAllPopups(){for(var a=document.getElementsByClassName("popup"),b=0;b<a.length;++b){var c=a[b];c.style&&(c.style.display="none")}document.activeElement.blur()}
function displayCustomColorEditor(a){LogoManager.loadFlags();LogoManager.loadButtons();closeAllPopups();document.getElementById("custom-color-name").value=a;document.getElementById("customcoloreditor").style.display="flex";document.getElementById("solidcustom").value=CookieManager.cookies[a+"solid"];document.getElementById("likelycustom").value=CookieManager.cookies[a+"likely"];document.getElementById("leaningcustom").value=CookieManager.cookies[a+"leaning"];document.getElementById("tiltingcustom").value=
CookieManager.cookies[a+"tilting"]}
function setPalette(a,b){b&&CookieManager.appendCookie("theme",a);switch(a){case "dark":darkPalette();break;case "greyscale":greyscalePalette();break;case "terminal":terminalPalette();break;case "contrast":contrastPalette();break;case "metallic":metallicPalette();break;case "halloween":halloweenPalette();break;case "white":toWinPalette();break;case "usaelection":usaElectionPalette();break;case "default":lightPalette();break;default:lightPalette()}a=0;for(b=states.length;a<b;++a)states[a].verifyTossupColor()}
function darkPalette(){setBackgroundColor("#181922");setOtherText("white");setDisableColor("#212326");setTossupColor("#6b6e73");setMapStyle("#181922",1.5);setTextStyle("white","bold");setChartBorderStyle(1,"#2b2e33");setChartBarColor("#2b2e33");setChartBarShadow("");setClickButtonColor("#2b2e33");setClickButtonColor("#2B2E33");setClickButtonTextColor("#FFFFFF");setMenuColor("#000000");setSideBarColor("#2b2e33");setSideBarTextStyle("#ffffff");setBorderStyle("#000000",7);ChartManager.chartOptions.plugins.datalabels.borderWidth=
2;ChartManager.chartOptions.plugins.datalabels.borderRadius=4;ChartManager.chartBarScales.yAxes[0].ticks.fontColor="#ffffff";ChartManager.chartBarScales.xAxes[0].ticks.fontColor="#ffffff";ChartManager.setChart(ChartManager.chartType,ChartManager.chartPosition);previousPalette=darkPalette}
function greyscalePalette(){setBackgroundColor("#252525");setOtherText("white");setDisableColor("#212326");setTossupColor("#888888");setMapStyle("#181922",1.5);setTextStyle("white","bold");setChartBorderStyle(1,"#1b1b1b");setChartBarColor("#454545");setChartBarShadow("");setClickButtonColor("#454545");setClickButtonTextColor("#FFFFFF");setMenuColor("#101010");setSideBarColor("#454545");setSideBarTextStyle("#ffffff");setBorderStyle("#252525",7);ChartManager.chartOptions.plugins.datalabels.borderWidth=
2;ChartManager.chartOptions.plugins.datalabels.borderRadius=4;ChartManager.chartBarScales.yAxes[0].ticks.fontColor="#ffffff";ChartManager.chartBarScales.xAxes[0].ticks.fontColor="#ffffff";ChartManager.setChart(ChartManager.chartType,ChartManager.chartPosition);previousPalette=darkPalette}
function terminalPalette(){setBackgroundColor("#000000");setOtherText("white");setDisableColor("#bcc8d9");setTossupColor("black");setChartBorderStyle(2,"#ffffff");setTextStyle("white","bold");setMapStyle("white",1.5);setChartBarColor("black");setChartBarShadow("");setClickButtonColor("#000000");setClickButtonTextColor("#ffffff");setMenuColor("#f8f9fa");setSideBarColor("#f8f9fa");setSideBarTextStyle("#000000");setBorderStyle("#ffffff",6);ChartManager.chartOptions.plugins.datalabels.borderWidth=2;ChartManager.chartOptions.plugins.datalabels.borderRadius=
4;ChartManager.chartBarScales.yAxes[0].ticks.fontColor="#ffffff";ChartManager.chartBarScales.xAxes[0].ticks.fontColor="#ffffff";ChartManager.setChart(ChartManager.chartType,ChartManager.chartPosition);previousPalette=terminalPalette}
function lightPalette(){setBackgroundColor("#dcdcdc");setOtherText("black");setDisableColor("#212326");setTossupColor("#696969");setMapStyle("#dcdcdc",1.5);setChartBarColor("#3b3e43");setChartBarShadow("");setTextStyle("white","bold");setChartBorderStyle(1,"#3b3e43");setClickButtonColor("#3b3e43");setClickButtonTextColor("white");setMenuColor("#000000");setSideBarColor("#dcdcdc");setSideBarTextStyle("#000000");setBorderStyle("#000000",6);ChartManager.chartOptions.plugins.datalabels.borderWidth=2;
ChartManager.chartOptions.plugins.datalabels.borderRadius=4;ChartManager.chartBarScales.yAxes[0].ticks.fontColor="#ffffff";ChartManager.chartBarScales.xAxes[0].ticks.fontColor="#ffffff";ChartManager.setChart(ChartManager.chartType,ChartManager.chartPosition);previousPalette=lightPalette}
function contrastPalette(){setBackgroundColor("#f8f9fa");setOtherText("black");setDisableColor("#212326");setTossupColor("#36454f");setMapStyle("#f8f9fa",1.5);setTextStyle("white","bold");setChartBorderStyle(1,"#fafafa");setChartBarColor("#fafafa");setChartBarShadow("");setClickButtonColor("#fafafa");setClickButtonTextColor("#000000");setMenuColor("#222222");setSideBarColor("#f8f9fa");setSideBarTextStyle("#000000");setBorderStyle("#f8f9fa",6);ChartManager.chartOptions.plugins.datalabels.borderWidth=
2;ChartManager.chartOptions.plugins.datalabels.borderRadius=4;ChartManager.chartBarScales.yAxes[0].ticks.fontColor="#000000";ChartManager.chartBarScales.xAxes[0].ticks.fontColor="#000000";ChartManager.setChart(ChartManager.chartType,ChartManager.chartPosition);previousPalette=contrastPalette}
function metallicPalette(){setBackgroundImage("linear-gradient(#696969, #33353b)");setOtherText("white");setDisableColor("#212326");setTossupColor("#808080");setMapStyle("black",1.5);setTextStyle("white","bold");setChartBorderStyle(1,"#33353b");setChartBarColor("#33353b");setChartBarShadow("");setClickButtonColor("#33353b");setClickButtonTextColor("#FFFFFF");setMenuColor("black");setSideBarColor("#33353b");setSideBarTextStyle("#ffffff");setBorderStyle("#000000",6);ChartManager.chartOptions.plugins.datalabels.borderWidth=
2;ChartManager.chartOptions.plugins.datalabels.borderRadius=4;ChartManager.chartBarScales.yAxes[0].ticks.fontColor="#ffffff";ChartManager.chartBarScales.xAxes[0].ticks.fontColor="#ffffff";ChartManager.setChart(ChartManager.chartType,ChartManager.chartPosition);previousPalette=metallicPalette}
function usaElectionPalette(){setBackgroundImage('url("./res/images/usa_flag.jpeg")',"cover");setOtherText("black");setDisableColor("#212326");setTossupColor("#888888");setMapStyle("#232323",1.8);setChartBarColor("#454545");setChartBarColor("#000000");setChartBarShadow("");setChartBarShadow("0px -5px 5px 2px #060606");setTextStyle("white","bold");setChartBorderStyle(1,"#000000");setClickButtonColor("#555555");setClickButtonTextColor("#FFFFFF");setMenuColor("#101010");setSideBarColor("#aaaaaa");setSideBarTextStyle("#000000");
setBorderStyle("#454545",6);ChartManager.chartOptions.plugins.datalabels.borderWidth=2;ChartManager.chartOptions.plugins.datalabels.borderRadius=4;ChartManager.chartBarScales.yAxes[0].ticks.fontColor="#ffffff";ChartManager.chartBarScales.xAxes[0].ticks.fontColor="#ffffff";ChartManager.setChart(ChartManager.chartType,ChartManager.chartPosition);previousPalette=usaElectionPalette}
function halloweenPalette(){setBackgroundImage('url("./res/images/halloween.jpg")');setOtherText("#ffffff");setDisableColor("#dddddd");setTossupColor("#928e85");setMapStyle("#000000",1.25);setTextStyle("white","bold");setChartBorderStyle(1,"#000000");setChartBarColor("#060606");setChartBarShadow("0px -5px 5px 2px #060606");setSideBarColor("#9c9b98");setSideBarTextStyle("#000000");setClickButtonColor("#060606");setClickButtonTextColor("#ffffff");setMenuColor("#928e85");setBorderStyle("#ffffff",6);
ChartManager.chartOptions.plugins.datalabels.borderWidth=0;ChartManager.chartOptions.plugins.datalabels.borderRadius=2;ChartManager.chartBarScales.yAxes[0].ticks.fontColor="#ffffff";ChartManager.chartBarScales.xAxes[0].ticks.fontColor="#ffffff";ChartManager.setChart(ChartManager.chartType,ChartManager.chartPosition);previousPalette=halloweenPalette}
function toWinPalette(){setBackgroundColor("#f8f9fa");setOtherText("black");setDisableColor("#dddddd");setTossupColor("#9E8767");setMapStyle("#fffbf2",1);setTextStyle("white","bold");setChartBorderStyle(1,"#fafafa");setChartBarColor("#fafafa");setChartBarShadow("");setClickButtonColor("#fafafa");setClickButtonTextColor("#000000");setMenuColor("#000000");setSideBarColor("#f8f9fa");setSideBarTextStyle("#000000");setBorderStyle("#f8f9fa",6);ChartManager.chartOptions.plugins.datalabels.borderWidth=0;
ChartManager.chartOptions.plugins.datalabels.borderRadius=2;ChartManager.chartBarScales.yAxes[0].ticks.fontColor="#000000";ChartManager.chartBarScales.xAxes[0].ticks.fontColor="#000000";ChartManager.setChart(ChartManager.chartType,ChartManager.chartPosition);previousPalette=toWinPalette}function setOtherText(a){var b=document.getElementById("othertext");b&&b.setAttribute("fill",a)}
function setBackgroundImage(a,b){var c=document.getElementById("application");c.style.backgroundColor="";c.style.backgroundImage=a;c.style.backgroundSize=b?b:"auto"}function setBackgroundColor(a){var b=document.getElementById("application");b.style.background=a;b.style.backgroundImage=""}
function setChartBorderStyle(a,b){ChartManager.chartBorderWidth=a;ChartManager.chartBorderColor=b;document.getElementById("battlechartright").style.border="1px solid "+b;ChartManager.updateChart();document.getElementById("legend-div").style.borderColor=b}function setMenuColor(a){document.getElementById("menu-div").style.backgroundColor=a;for(var b=document.getElementsByClassName("click-button"),c=0;c<b.length;++c)b[c].style.borderColor=a}
function setMenuImage(a){var b=document.getElementById("menu-div");b.style.backgroundImage=a;b.style.backgroundSize="contain"}function setClickButtonTextColor(a){for(var b=document.getElementsByClassName("click-button"),c=0;c<b.length;++c)b[c].style.color=a}function setClickButtonColor(a){for(var b=document.getElementsByClassName("click-button"),c=0;c<b.length;++c)b[c].style.backgroundColor=a}function setDisableColor(a){CandidateManager.TOSSUP.colors[1]=a}
function setTossupColor(a){CandidateManager.TOSSUP.colors[2]=a;document.getElementById("Tossup-text").style.backgroundColor=a;var b=document.getElementById("addcandidate-button-text");b&&(b.style.backgroundColor=a)}
function setMapStyle(a,b){var c=document.getElementById("outlines");c.style.stroke=a;c.style.strokeWidth=b*strokeMultiplier;if(c=document.getElementById("proportional"))c.style.stroke=a,c.style.strokeWidth=b*strokeMultiplier;c=document.getElementById("special");null!=c&&(c.style.stroke=a,c.style.strokeWidth=b*strokeMultiplier)}function setBorderStyle(a,b){var c=document.getElementById("*lines*");null!==c&&(c.style.stroke=a,c.style.strokeWidth=b*strokeMultiplier)}
function setSideBarColor(a){var b=document.getElementById("sidebar");b&&(b.style.background=a)}function setSideBarTextStyle(a){var b=document.getElementById("sidebar");b&&(b.style.color=a)}function setSideBarSocialOutline(a,b){var c=document.getElementById("sidebar");if(c){c=c.querySelectorAll(".sidebar-button");for(var d=0;d<c.length;++d){var e=c[d];e.style.borderColor=a;e.style.borderWidth=b}}}function setChartBarColor(a){document.getElementById("chart-div").style.background=a}
function setChartBarShadow(a){document.getElementById("chart-div").style.boxShadow=a}
function setTextStyle(a,b){var c=document.getElementById("text");if(null!==c){c.style.strokeWidth=0;c.style.fontWeight=b;c.style.fill=a;c.style.textAlign="center";for(var d in c.children){var e=c.children[d];try{e.setAttribute("text-anchor","middle"),e.setAttribute("alignment-baseline","central")}catch(f){}}}c=document.getElementById("battlechart");c.style.color=a;c.style.fontWeight=b;c=document.getElementById("legend-div");c.style.color=a;c.style.weight=b}
function setBattleHorizontal(){document.getElementById("application").style.flexDirection="column-reverse";document.getElementById("map-div").style.height="85%";var a=document.getElementById("chart-div");a.style.flexDirection="row";a.style.width="100%";a.style.height="15%";a=document.getElementById("battlechart");a.style.flexDirection="column";a.style.height="75%";a.style.margin="5%";document.getElementById("battlechartmidpoly").setAttribute("transform","translate(20 0) rotate(90)");a=document.getElementById("battlechartmid");
a.style.height="100%";a.style.width="";a=document.getElementById("battlechartright");a.style.flexDirection="row";a.style.height="80%";a.style.width="100%";a=document.getElementById("battlechartleft");a.style.height="20px";a.style.width="20px";a=document.getElementById("topbar");a.style.borderRight=a.style.borderBottom;a.style.borderBottom="";a.style.flexDirection="row";a.style.minWidth="0";a=document.getElementById("bottombar");a.style.borderLeft=a.style.borderTop;a.style.borderTop="";a.style.flexDirection=
"row";a.style.minWidth="0"}
function unsetBattleHorizontal(){document.getElementById("application").style.flexDirection="row";document.getElementById("map-div").style.height="100%";var a=document.getElementById("chart-div");a.style.flexDirection="column";a.style.width="28vw";a.style.height="100%";a=document.getElementById("battlechart");a.style.flexDirection="row";a.style.height="100%";a.style.margin="5%";a.style.width=mobile?"100%":"50%";document.getElementById("battlechartmidpoly").setAttribute("transform","translate(0 0) rotate(0)");
a=document.getElementById("battlechartmid");a.style.height="";a.style.width="100%";a=document.getElementById("battlechartright");a.style.flexDirection="column";a.style.width="85%";a.style.height="100%";document.getElementById("battlechartleft");battlechartleft.style.height="20px";battlechartleft.style.width="20px";a=document.getElementById("topbar");a.style.borderBottom=a.style.borderRight;a.style.borderRight="";a.style.flexDirection="column";a.style.minWidth="0";a=document.getElementById("bottombar");
a.style.borderTop=a.style.borderLeft;a.style.borderLeft="";a.style.flexDirection="column";a.style.minWidth="0"}function toggleYAPNews(){var a=document.getElementById("sidebar");null!==a&&("none"===a.style.display?(a.style.display="inline-flex",gtag("event",currentCache,{event_category:"Sidebar",event_label:"Toggle On"})):(a.style.display="none",gtag("event",currentCache,{event_category:"Sidebar",event_label:"Toggle Off"})),MapManager.centerMap())}
function ifInIframe(){if(window.location!==window.parent.location){var a=document.getElementById("sidebar");a&&(a.style.display="none");if(a=document.getElementById("menu-div"))a.style.display="none";if(a=document.getElementById("yapms-watermark"))a.style.display="flex";for(var b=document.getElementsByClassName("adslot_mobile"),c=0;c<b.length;++c)a=b[c],a.style.display="none";setPalette("light",!1)}}
function showShortcuts(){if("./res/usa/county/usa_county.svg"===MapLoader.save_filename||"./res/usa/house/12-2-2019-house.svg"===MapLoader.save_filename){var a=document.getElementById("county-house-d");a&&(a.style.display="")}}var Simulator=function(){};
Simulator.init=function(){if(!mobile){document.getElementById("simulator-noclick").addEventListener("change",function(c){Simulator.ignoreClick=c.target.checked});var a=document.getElementById("sidebar-presets-select-simulator");a.addEventListener("change",function(c){switch(this.value){case "cook":Simulator.cookPresidentialPreset();break;case "random":Simulator.randomPreset();break;case "uniform":Simulator.uniformPreset()}});for(var b=document.getElementById("sidebar-presets-select-simulator");b.firstChild;)b.removeChild(b.firstChild);
b=document.createElement("option");b.text="Custom";b.value="custom";b.selected=!0;b.disabled=!0;b.hidden=!0;a.appendChild(b);b=document.createElement("option");b.text="Uniform";b.value="uniform";a.appendChild(b);b=document.createElement("option");b.text="Random";b.value="random";a.appendChild(b);"USA_2020_presidential"===php_load_map_id?(b=document.createElement("option"),b.text="Cook",b.value="cook",a.appendChild(b),!1===php_load_map&&Simulator.cookPresidentialPreset()):!1===php_load_map&&Simulator.uniformPreset();
void 0===states[0].simulator&&Simulator.uniformPreset()}};
Simulator.uniformPreset=function(){if(!mobile){console.log("Simulator: Uniform preset");document.getElementById("sidebar-presets-select-simulator").value="uniform";for(var a=0;a<states.length;++a){var b=states[a];b.simulator={};for(var c in CandidateManager.candidates)"Tossup"!==c&&(b.simulator[c]=0)}for(a=0;a<proportionalStates.length;++a)for(c in b=proportionalStates[a],b.simulator={},CandidateManager.candidates)"Tossup"!==c&&(b.simulator[c]=0);Simulator.state&&Simulator.view(Simulator.state)}};
Simulator.randomPreset=function(){if(!mobile){console.log("Simulator: Random preset");document.getElementById("sidebar-presets-select-simulator").value="random";for(var a=0;a<states.length;++a){var b=states[a];b.simulator={};for(var c in CandidateManager.candidates)"Tossup"!==c&&(b.simulator[c]=100*Math.random())}for(a=0;a<proportionalStates.length;++a)for(c in b=proportionalStates[a],b.simulator={},CandidateManager.candidates)"Tossup"!==c&&(b.simulator[c]=100*Math.random());Simulator.state&&Simulator.view(Simulator.state)}};
Simulator.cookPresidentialPreset=function(){if(!mobile){console.log("Simulator: Cook preset");document.getElementById("sidebar-presets-select-simulator").value="cook";CandidateManager.addCandidate("Republican","#bf1d29","#ff5865","#ff8b98","#cf8980");CandidateManager.addCandidate("Democrat","#1c408c","#577ccc","#8aafff","#949bb3");countVotes();ChartManager.updateChart();for(var a=0;a<states.length;++a){var b=states[a];b.simulator={};for(var c in CandidateManager.candidates)if("Republican"===c||"Democrat"===
c)b.simulator[c]=SimulatorData.USA_2020_Cook[b.name][c]}Simulator.state&&Simulator.view(Simulator.state)}};
Simulator.toggle=function(){if(!mobile){Simulator.enabled=!Simulator.enabled;var a=document.getElementById("sidebar-state-simulator"),b=document.getElementById("sidebar-run-simulator"),c=document.getElementById("sidebar-simulator-head"),d=document.getElementById("sidebar-settings-simulator"),e=document.getElementById("sidebar-presets-simulator");Simulator.enabled?(a.style.display="block",b.style.display="block",d.style.display="block",e.style.display="block",c.innerHTML="Disable Simulator",Simulator.init(),
gtag("event",currentCache,{event_category:"Simulator",event_label:"Simulator Enabled"})):(a.style.display="none",b.style.display="none",d.style.display="none",e.style.display="none",c.innerHTML="Enable Simulator",gtag("event",currentCache,{event_category:"Simulator",event_label:"Simulator Disabled"}))}};
Simulator.view=function(a){if(!mobile&&Simulator.enabled){Simulator.state=a;for(var b=document.getElementById("simulator-ranges");b.firstChild;)b.removeChild(b.firstChild);for(var c in CandidateManager.candidates)if("Tossup"!==c){var d=0,e;for(e in a.simulator)d+=a.simulator[e];var f=100;0!==d&&(f=(a.simulator[c]/d*100).toFixed(2));d=document.createElement("DIV");d.setAttribute("id","simulator-display-"+c);d.innerHTML=c+" - "+f+"%";f=document.createElement("INPUT");f.setAttribute("id","simulator-range-"+
c);f.setAttribute("type","range");f.setAttribute("max",100);f.setAttribute("min",0);f.setAttribute("step",1);f.value=a.simulator[c];f.oninput=function(){var g=c;return function(){var h=parseInt(this.value);a.simulator[g]=h;h=0;for(var k in CandidateManager.candidates)"Tossup"!==k&&(h+=a.simulator[k]);for(k in CandidateManager.candidates)if("Tossup"!==k){var l=document.getElementById("simulator-display-"+k),n=100;0!==h&&(n=(a.simulator[k]/h*100).toFixed(2));l.innerHTML=k+" - "+n+"%"}}}();b.appendChild(d);
b.appendChild(f)}b=document.getElementById("simulator-state-title");a.name.match(/(Geometry|path([0-9]+)|g([0-9]+))/g)?b.innerHTML=a.fakename:b.innerHTML=a.name.replace(/_/g," ")}};Simulator.run=function(){mobile||0!==Simulator.runState||(Simulator.runState=2,MapLoader.clearMapCandidates(),Simulator.runTimeout=5E3/states.length,Simulator.runLoop(states,0,"proportional"===MapLoader.save_type||"primary"===MapLoader.save_type),Simulator.runLoop(proportionalStates,0,!0))};
Simulator.runLoop=function(a,b,c){0===a.length?--Simulator.runState:setTimeout(function(){var d=a[b],e=[],f=0,g;for(g in d.simulator)f+=d.simulator[g],e.push({name:g,power:d.simulator[g]});for(g=0;g<e.length;++g){var h=1/e.length;0!==f&&(h=e[g].power/f);0!==g&&(h+=e[g-1].percent);e[g].percent=h}c?Simulator.runProportionalState(d,e):Simulator.runTakeAllState(d,e);for(b+=1;b<a.length&&a[b].disabled;)b+=1;b<a.length?Simulator.runLoop(a,b,c):Simulator.runLoopFinish(a)},Simulator.runTimeout)};
Simulator.runTakeAllState=function(a,b){for(var c=Math.random(),d=0;d<b.length;++d){var e=b[d].name;if(c<=b[d].percent){a.setColor(e,0);countVotes();ChartManager.updateChart();LegendManager.updateLegend();break}}};
Simulator.runProportionalState=function(a,b){for(var c=a.voteCount,d=0;d<c;++d)for(var e=Math.random(),f=0;f<b.length;++f)if(e<=b[f].percent){f=b[f].name;a.delegates[f]=a.delegates[f]?a.delegates[f]+1:1;--a.delegates.Tossup;break}c=0;for(f=1;f<b.length;++f)a.delegates[b[f].name]>a.delegates[b[c].name]&&(c=f);a.setColor(b[c].name,0,{setDelegates:!1});countVotes();LegendManager.updateLegend();ChartManager.updateChart()};
Simulator.runLoopFinish=function(a){--Simulator.runState;if("usa_ec"===MapLoader.save_dataid){var b=a.find(function(e){return"ME-D1"===e.name}),c=a.find(function(e){return"ME-D2"===e.name});b.candidate===c.candidate&&a.find(function(e){return"ME-AL"===e.name}).setColor(b.candidate,0);b=a.find(function(e){return"NE-D1"===e.name});c=a.find(function(e){return"NE-D2"===e.name});var d=a.find(function(e){return"NE-D3"===e.name});b.candidate===c.candidate&&c.candidate===d.candidate&&a.find(function(e){return"NE-AL"===
e.name}).setColor(b.candidate,0)}};Simulator.enabled=!1;Simulator.runState=0;Simulator.runTimeout=100;Simulator.ignoreClick=!1;Simulator.state=null;var SaveMap=function(){};
SaveMap.log=function(){var a={};a.filename=MapLoader.save_filename;a.dataid=MapLoader.save_dataid;a.type=MapLoader.save_type;a.year=MapLoader.save_year;a.fontsize=MapLoader.save_fontsize;a.strokewidth=MapLoader.save_strokewidth;a.candidates={};a.states={};a.proportional={};for(var b in CandidateManager.candidates)if("Tossup"!==b){var c=CandidateManager.candidates[b];a.candidates[c.name]={};a.candidates[c.name].solid=c.colors[0];a.candidates[c.name].likely=c.colors[1];a.candidates[c.name].lean=c.colors[2];
a.candidates[c.name].tilt=c.colors[3]}for(c=0;c<states.length;++c){var d=states[c];for(b in d.delegates){var e=d.delegates[b];0===e&&delete d.delegates[b]}a.states[d.name]={};a.states[d.name].delegates=d.delegates;a.states[d.name].colorvalue=d.colorValue;a.states[d.name].disabled=d.disabled}for(c=0;c<proportionalStates.length;++c){d=proportionalStates[c];for(b in d.delegates)e=d.delegates[b],0===e&&delete d.delegates[b];a.proportional[d.name]={};a.proportional[d.name].delegates=d.delegates;a.proportional[d.name].colorvalue=
d.colorValue;a.proportional[d.name].disabled=d.disabled}console.log(JSON.stringify(a))};
SaveMap.upload=function(a,b){var c=new FormData;c.append("captcha",b);c.append("img",a);var d={};d.filename=MapLoader.save_filename;d.dataid=MapLoader.save_dataid;d.type=MapLoader.save_type;d.year=MapLoader.save_year;d.fontsize=MapLoader.save_fontsize;d.strokewidth=MapLoader.save_strokewidth;d.candidates={};d.states={};d.proportional={};c=new FormData;console.log("token: "+b);c.append("captcha",b);c.append("img",a);for(var e in CandidateManager.candidates)"Tossup"!==e&&(a=CandidateManager.candidates[e],
d.candidates[a.name]={},d.candidates[a.name].solid=a.colors[0],d.candidates[a.name].likely=a.colors[1],d.candidates[a.name].lean=a.colors[2],d.candidates[a.name].tilt=a.colors[3]);for(a=0;a<states.length;++a){b=states[a];for(e in b.delegates){var f=b.delegates[e];0===f&&delete b.delegates[e]}d.states[b.name]={};d.states[b.name].delegates=b.delegates;d.states[b.name].colorvalue=b.colorValue;d.states[b.name].disabled=b.disabled}for(a=0;a<proportionalStates.length;++a){b=proportionalStates[a];for(e in b.delegates)f=
b.delegates[e],0===f&&delete b.delegates[e];d.proportional[b.name]={};d.proportional[b.name].delegates=b.delegates;d.proportional[b.name].colorvalue=b.colorValue;d.proportional[b.name].disabled=b.disabled}c.append("data",JSON.stringify(d));fetch("https://yapms.org/upload.php",{method:"POST",body:c}).then(function(g){return g.text()}).then(function(g){g=g.split(" ");var h=g[0];g=g[1];var k=document.getElementById("shareurl");"reCaptcha_Failed(restart_web_browser)"===h?(k.setAttribute("href",h),k.innerHTML=
"reCaptcha Failed: possible solution is to restart your web-browser"):"reCaptcha_Bot_Detected"===h?(k.setAttribute("href",h),k.innerHTML="reCaptcha Failed: suspicious activity detected"):(k.setAttribute("href",h),k.innerHTML=h);k.style.display="";if(k=document.getElementById("sharebuttons"))k.style.display="flex";if(k=document.getElementById("downloadbutton"))mobile?k.style.display="none":(k.style.display="",k.setAttribute("href","https://yapms.org/downloadmap.php?f="+g));if(g=document.getElementById("loading-animation"))g.style.display=
"none";if(g=document.getElementById("screenshotimg"))g.style.display="";if(g=document.getElementById("facebook-share"))g.setAttribute("href","https://www.facebook.com/sharer.php?u="+h),g.setAttribute("target","_blank");if(g=document.getElementById("twitter-share"))g.setAttribute("href","https://twitter.com/intent/tweet?text="+h),g.setAttribute("target","_blank");if(g=document.getElementById("reddit-share"))g.setAttribute("href","https://www.reddit.com/submit?title=My%20YAPms%20Map&url="+h),g.setAttribute("target",
"_blank");gtag("event",currentCache,{event_category:"Map Save",event_label:"Map save succeeded"})}).catch(function(g){console.log(g);(g=document.getElementById("share-button"))&&g.setAttribute("onclick","share()");gtag("event",currentCache,{event_category:"Map Save",event_label:"Map save failed"})})};function numberWithCommas(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function displayVersionInfo(){document.getElementById("versioninfo-text").innerHTML=currentCache}
function displayShareMenu(){var a=document.getElementById("sharebuttons");a&&(a.style.display="none");if(a=document.getElementById("shareurl"))a.style.display="none",a.innerHTML="";if(a=document.getElementById("screenshotimg"))a.style.display="none";if(a=document.getElementById("loading-animation"))a.style.display=""}
function displayMenu(a){LogoManager.loadFlags();LogoManager.loadButtons();closeAllPopups();document.getElementById(a).style.display="flex";switch(a){case "versionmenu":displayVersionInfo();break;case "sharemenu":displayShareMenu()}}function hideMenu(a){closeAllPopups();document.getElementById(a).style.display="none"}
var currentCache="v2.51.5",states=[],lands=[],buttons=[],proportionalStates=[],paintIndex="Tossup",maxColorValue=2,mode="paint",maxColorValues=4,mapOptions={},strokeMultiplier=1,previousPalette=function(){toWinPalette()};function share(a){closeAllPopups();"undefined"!==typeof grecaptcha?(console.log("reCaptcha detected"),displayMenu("sharemenu"),a?(MapManager.centerMap(),setTimeout(share_afterCenter,200)):share_afterCenter()):(console.log("reCaptcha not detected"),CookieManager.askConsent())}
function share_afterCenter(){var a=document.getElementById("share-button");a&&(a.disabled=!0,a.style.opacity="0.5",setTimeout(function(){a.disabled=!1;a.style.opacity="1"},3E3));html2canvas(document.getElementById("application"),{logging:!1,onclone:function(b){var c=b.getElementById("text");c&&(c.style.fontFamily="arial",c.style.fontSize="15px");c=b.getElementById("svgdata");var d=b.getElementById("map-div");if(c&&d){var e=d.offsetHeight+0*d.offsetHeight;c.setAttribute("width",d.offsetWidth+0*d.offsetWidth);
c.setAttribute("height",e)}if(c=b.getElementById("legend-tooltip"))c.style.display="none";c=b.getElementsByClassName("legend-delete");d=0;for(e=c.length;d<e;++d){var f=c[d];f&&(f.style.display="none")}if(b=b.getElementById("legend-addcandidate-button"))b.style.display="none"}}).then(function(b){notification.appendChild(b);b.style.width=0;b.style.height=0;b.style.display="none";var c=b.toDataURL("image/png");notification.removeChild(b);b=document.getElementById("screenshotimg");b.src=c;b.style.width=
"40vw";b.style.height="auto";grecaptcha&&grecaptcha.execute("6LeDYbEUAAAAANfuJ4FxWVjoxPgDPsFGsdTLr1Jo",{action:"share"}).then(function(d){SaveMap.upload(c,d)})})}window.onerror=function(a,b,c,d,e){a.includes("a[b].target.className.indexOf")||a.includes("Script error.")||gtag("event",currentCache,{event_category:"Error",event_label:a+", "+b+", "+c+", "+currentCache,non_interaction:!0})};
function setMode(a){console.log("mode "+mode+" | set "+a+" | mapType "+MapLoader.save_type+" | mapYear "+MapLoader.save_year);LogoManager.loadButtons();mode=a;document.getElementById("modesbutton");for(var b=document.getElementsByClassName("mode-button"),c=0;c<b.length;++c){var d=b[c];d&&(d.style.opacity="1")}"paint"===a?(d=document.getElementById("modebutton-paint"),d.style.opacity="0.5"):"ec"===a?(d=document.getElementById("modebutton-ec"),d.style.opacity="0.5"):"delete"===a?(d=document.getElementById("modebutton-delete"),
d.style.opacity="0.5"):"fill"===a?(d=document.getElementById("modebutton-fill"),d.style.opacity="0.5"):"highlight"===a&&(d=document.getElementById("modebutton-highlight"),d.style.opacity="0.5")}function verifyPaintIndex(){"undefined"===typeof CandidateManager.candidates[paintIndex]&&(paintIndex="Tossup")}
function countVotes(){var a=document.getElementById("battlechartmid");a&&a.setAttribute("fill",CandidateManager.TOSSUP.colors[2]);for(var b in CandidateManager.candidates){var c=CandidateManager.candidates[b];c.voteCount=0;c.probVoteCounts=[0,0,0,0];for(var d=$jscomp.makeIterator(states),e=d.next();!e.done;e=d.next())e=e.value,"undefined"===typeof e.delegates&&(e.delegates={}),"undefined"===typeof e.delegates[b]&&(e.delegates[b]=0),c.voteCount+=e.delegates[b],"Tossup"===e.candidate&&"Tossup"!==b?
c.probVoteCounts[0]+=e.delegates[b]:c.probVoteCounts[e.colorValue]+=e.delegates[b];d=$jscomp.makeIterator(proportionalStates);for(e=d.next();!e.done;e=d.next())e=e.value,"undefined"===typeof e.delegates&&(e.delegates={}),"undefined"===typeof e.delegates[b]&&(e.delegates[b]=0,"Tossup"===b&&(e.delegates[b]=e.voteCount)),c.voteCount+=e.delegates[b],"Tossup"===e.candidate&&"Tossup"!==b?c.probVoteCounts[0]+=e.delegates[b]:c.probVoteCounts[e.colorValue]+=e.delegates[b];a&&c.voteCount>Math.ceil(totalVotes/
2)&&("Tossup"===b?a.setAttribute("fill",c.colors[2]):a.setAttribute("fill",c.colors[0]))}}function onResize(){MapManager.centerMap();if("bottom"===ChartManager.chartPosition){var a=document.getElementById("chart-div"),b=document.getElementById("chart");b.style.height="auto";b.style.width=""+(a.offsetHeight-5)+"px"}else document.getElementById("chart-div"),b=document.getElementById("chart"),b.style.height="auto",b.style.width="100%"}
function setChangeCandidate(a,b){for(var c=0,d=states.length;c<d;++c){var e=states[c];e.candidate===a&&e.setColor(b,e.colorValue,{updateDelegates:!1});e.delegates[b]=e.delegates[a];e.delegates[a]=void 0}}
function forceUpdate(){"serviceWorker"in navigator&&navigator.serviceWorker.register("../sw.js").then(function(a){a.waiting&&(a.waiting.postMessage("skipwaiting"),gtag("event",currentCache,{event_category:"Manual Update",event_label:"Manual update from "+currentCache,non_interaction:!0}),setTimeout(function(){location.reload()},150))})}
function updateArticles(){fetch("req_articles.php").then(function(a){return a.json()}).then(function(a){var b=document.getElementById("yapnews-articles");if(null!==b)for(var c=0;c<a.length;++c){var d=document.createElement("div");d.setAttribute("class","yapnews-article");var e=document.createElement("a");e.setAttribute("class","yapnews-article-title");e.setAttribute("href","https://www.yapms.com/news/article.php?a="+a[c].id);e.setAttribute("target","_blank");var f=document.createElement("div");f.setAttribute("class",
"yapnews-article-author");var g=document.createElement("div");g.setAttribute("class","yapnews-article-snippet");e.innerHTML=a[c].title;f.innerHTML=a[c].author;g.innerHTML=a[c].snippet;d.appendChild(e);d.appendChild(f);d.appendChild(g);b.appendChild(d)}})}
function updateMobile(){for(var a=document.getElementsByClassName("click-button"),b=0;b<a.length;++b)a[b].style.padding="7px";a=document.getElementsByClassName("mode-button");for(b=0;b<a.length;++b)a[b].style.paddingLeft="12px",a[b].style.paddingRight="12px";if(b=document.getElementById("sidebar-toggle"))b.style.display="none";if(b=document.getElementById("lockbutton"))b.style.display="none"}
function start(){CookieManager.loadCookies();CookieManager.askConsent();CandidateManager.initCandidates();ChartManager.initChart();ChartManager.setChart("horizontalbattle");mobile?updateMobile():updateArticles();if(!0===php_load_map){var a=null;a=!0===php_load_user?"https://yapms.org/users/"+php_load_user_id+"/"+php_load_map_id+".txt":"https://yapms.org/maps/"+php_load_map_id+".txt";MapLoader.loadMapFromURL(a);php_auto_reload&&window.setInterval(function(){MapLoader.loadMapFromURL(a)},3E4+Math.floor(3E4*
Math.random()))}else!0===php_load_type_map?MapLoader.loadMapFromId(php_load_map_id):(PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa_presidential.svg",16,1,"usa_ec","presidential","open"));setTimeout(function(){LogoManager.loadButtons()},2500)}start();
"serviceWorker"in navigator?(console.log("Attempting to register service worker"),navigator.serviceWorker.register("../sw.js").then(function(a){console.log("SW: registered");a.waiting&&(console.log("SW: update found"),a=document.getElementById("update-button"))&&(a.style.display="inline")},function(a){console.log("SW: register error ",a)})):console.log("No service worker detected");
